define(["require","exports","module","jquery-ui","backbone-ui-draggable","lodash","./update","./track","./min-max"],function(e,t,n){e("jquery-ui");var r=e("backbone-ui-draggable"),i=e("lodash"),s=e("./update"),o=e("./track"),u=e("./min-max"),a={n:"left top",s:"left bottom",w:"left top",e:"right top",nw:"left top",ne:"right top",sw:"left bottom",se:"right bottom"},f={n:"y",s:"y",w:"x",e:"x",nw:"xy",ne:"xy",sw:"xy",se:"xy"},l=n.exports=r.extend({initialize:function(e){r.prototype.initialize.call(this,e),this.initializeResizableHandle(e)},initializeResizableHandle:function(t){this.resizable=t.resizable,this.direction=t.direction,this.axis=f[this.direction],this.thickness=t.thickness,this.setStyles(),this.ratio=t.ratio,this.outer=t.thickness*this.ratio,this.inner=t.thickness-this.outer,this.update=i.throttle(i.bind(s[this.direction],this),20),this.initializePosition(t),this.track(),this.on("movestart",this.calcMinMax)},setStyles:function(){var t=this.axis,n;t.length>1?n={zIndex:100,width:this.thickness,height:this.thickness}:t==="x"?n={zIndex:99,width:this.thickness,height:this.resizable.model.get("width")}:t==="y"&&(n={zIndex:99,width:this.resizable.model.get("height"),height:this.thickness}),this.$el.css(n)},initializePosition:function(t){var n=this.$el;n.position({my:"center center",at:a[this.direction],of:this.resizable.$el}),this.model.set(n.position()),this.update()},track:function(){i.each(this.direction,function(e){o[e].call(this)},this),o.all.call(this)},calcMinMax:function(){i.each(this.direction,function(e){u[e].call(this)},this)},map:i.extend(r.prototype.map,{height:"->css:height",width:"->css:width"})})});