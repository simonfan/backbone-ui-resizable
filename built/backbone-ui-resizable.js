/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash -o ./dist/lodash.compat.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */

//     subject
//     (c) simonfan
//     subject is licensed under the MIT terms.

//     No
//     (c) simonfan
//     No is licensed under the MIT terms.

//     backbone-ui-resizable
//     (c) simonfan
//     backbone-ui-resizable is licensed under the MIT terms.

define("__backbone-ui-resizable/handle/helpers",["require","exports","module","lodash"],function(e,t){var n=e("lodash");t.min=function(e,t){return isNaN(e)?t:isNaN(t)?e:t>e?e:t},t.max=function(e,t){return isNaN(e)?t:isNaN(t)?e:e>t?e:t},t.numberify=function(e){var t=parseFloat(e);if(isNaN(t))throw new Error(e+" not number");return t},t.numberifyProperties=function(e,t){var r={};return n.each(e,function(e){r[e]=parseFloat(t[e])}),r},t.fitValueWithin=function(e,t,n){return isNaN(t)||(e=e>t?e:t),isNaN(n)||(e=n>e?e:n),e};var r=/^-?\d*(\.\d+)?$/;t.stringifyPositionalValue=function(e){return r.test(e)?e+"px":e}}),function(){function e(e,t,n){for(var r=(n||0)-1,i=e?e.length:0;++r<i;)if(e[r]===t)return r;return-1}function t(t,n){var r=typeof n;if(t=t.cache,"boolean"==r||null==n)return t[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:y+n;return t=(t=t[r])&&t[i],"object"==r?t&&e(t,n)>-1?0:-1:t?0:-1}function n(e){var t=this.cache,n=typeof e;if("boolean"==n||null==e)t[e]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:y+e,i=t[n]||(t[n]={});"object"==n?(i[r]||(i[r]=[])).push(e):i[r]=!0}}function r(e){return e.charCodeAt(0)}function i(e,t){for(var n=e.criteria,r=t.criteria,i=-1,a=n.length;++i<a;){var o=n[i],l=r[i];if(o!==l){if(o>l||"undefined"==typeof o)return 1;if(l>o||"undefined"==typeof l)return-1}}return e.index-t.index}function a(e){var t=-1,r=e.length,i=e[0],a=e[r/2|0],o=e[r-1];if(i&&"object"==typeof i&&a&&"object"==typeof a&&o&&"object"==typeof o)return!1;var l=u();l["false"]=l["null"]=l["true"]=l.undefined=!1;var s=u();for(s.array=e,s.cache=l,s.push=n;++t<r;)s.push(e[t]);return s}function o(e){return"\\"+Z[e]}function l(){return b.pop()||[]}function u(){return g.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function s(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function c(e){e.length=0,b.length<x&&b.push(e)}function f(e){var t=e.cache;t&&f(t),e.array=e.cache=e.criteria=e.object=e.number=e.string=e.value=null,g.length<x&&g.push(e)}function h(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,a=Array(0>i?0:i);++r<i;)a[r]=e[t+r];return a}function p(n){function b(e){return e&&"object"==typeof e&&!fi(e)&&Fr.call(e,"__wrapped__")?e:new g(e)}function g(e,t){this.__chain__=!!t,this.__wrapped__=e}function x(e){function t(){if(r){var e=h(r);Br.apply(e,arguments)}if(this instanceof t){var a=tt(n.prototype),o=n.apply(a,e||arguments);return It(o)?o:a}return n.apply(i,e||arguments)}var n=e[0],r=e[2],i=e[4];return ci(t,e),t}function Z(e,t,n,r,i){if(n){var a=n(e);if("undefined"!=typeof a)return a}var o=It(e);if(!o)return e;var u=Ir.call(e);if(!G[u]||!ui.nodeClass&&s(e))return e;var f=oi[u];switch(u){case A:case q:return new f(+e);case F:case K:return new f(e);case U:return a=f(e.source,N.exec(e)),a.lastIndex=e.lastIndex,a}var p=fi(e);if(t){var d=!r;r||(r=l()),i||(i=l());for(var b=r.length;b--;)if(r[b]==e)return i[b];a=p?f(e.length):{}}else a=p?h(e):wi({},e);return p&&(Fr.call(e,"index")&&(a.index=e.index),Fr.call(e,"input")&&(a.input=e.input)),t?(r.push(e),i.push(a),(p?xi:ji)(e,function(e,o){a[o]=Z(e,t,n,r,i)}),d&&(c(r),c(i)),a):a}function tt(e){return It(e)?Jr(e):{}}function nt(e,t,n){if("function"!=typeof e)return ar;if("undefined"==typeof t||!("prototype"in e))return e;var r=e.__bindData__;if("undefined"==typeof r&&(ui.funcNames&&(r=!e.name),r=r||!ui.funcDecomp,!r)){var i=Lr.call(e);ui.funcNames||(r=!P.test(i)),r||(r=M.test(i),ci(e,r))}if(r===!1||r!==!0&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return Ln(e,t)}function rt(e){function t(){var e=u?o:this;if(i){var d=h(i);Br.apply(d,arguments)}if((a||c)&&(d||(d=h(arguments)),a&&Br.apply(d,a),c&&d.length<l))return r|=16,rt([n,f?r:-4&r,d,null,o,l]);if(d||(d=arguments),s&&(n=e[p]),this instanceof t){e=tt(n.prototype);var b=n.apply(e,d);return It(b)?b:e}return n.apply(e,d)}var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],l=e[5],u=1&r,s=2&r,c=4&r,f=8&r,p=n;return ci(t,e),t}function it(n,r){var i=-1,o=bt(),l=n?n.length:0,u=l>=_&&o===e,s=[];if(u){var c=a(r);c?(o=t,r=c):u=!1}for(;++i<l;){var h=n[i];o(r,h)<0&&s.push(h)}return u&&f(r),s}function ot(e,t,n,r){for(var i=(r||0)-1,a=e?e.length:0,o=[];++i<a;){var l=e[i];if(l&&"object"==typeof l&&"number"==typeof l.length&&(fi(l)||yt(l))){t||(l=ot(l,t,n));var u=-1,s=l.length,c=o.length;for(o.length+=s;++u<s;)o[c++]=l[u]}else n||o.push(l)}return o}function lt(e,t,n,r,i,a){if(n){var o=n(e,t);if("undefined"!=typeof o)return!!o}if(e===t)return 0!==e||1/e==1/t;var u=typeof e,f=typeof t;if(!(e!==e||e&&Q[u]||t&&Q[f]))return!1;if(null==e||null==t)return e===t;var h=Ir.call(e),p=Ir.call(t);if(h==R&&(h=B),p==R&&(p=B),h!=p)return!1;switch(h){case A:case q:return+e==+t;case F:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case U:case K:return e==Or(t)}var d=h==$;if(!d){var b=Fr.call(e,"__wrapped__"),g=Fr.call(t,"__wrapped__");if(b||g)return lt(b?e.__wrapped__:e,g?t.__wrapped__:t,n,r,i,a);if(h!=B||!ui.nodeClass&&(s(e)||s(t)))return!1;var v=!ui.argsObject&&yt(e)?Nr:e.constructor,m=!ui.argsObject&&yt(t)?Nr:t.constructor;if(v!=m&&!(Ht(v)&&v instanceof v&&Ht(m)&&m instanceof m)&&"constructor"in e&&"constructor"in t)return!1}var y=!i;i||(i=l()),a||(a=l());for(var _=i.length;_--;)if(i[_]==e)return a[_]==t;var x=0;if(o=!0,i.push(e),a.push(t),d){if(_=e.length,x=t.length,o=x==_,o||r)for(;x--;){var w=_,k=t[x];if(r)for(;w--&&!(o=lt(e[w],k,n,r,i,a)););else if(!(o=lt(e[x],k,n,r,i,a)))break}}else zi(t,function(t,l,u){return Fr.call(u,l)?(x++,o=Fr.call(e,l)&&lt(e[l],t,n,r,i,a)):void 0}),o&&!r&&zi(e,function(e,t,n){return Fr.call(n,t)?o=--x>-1:void 0});return i.pop(),a.pop(),y&&(c(i),c(a)),o}function ut(e,t,n,r,i){(fi(t)?rn:ji)(t,function(t,a){var o,l,u=t,s=e[a];if(t&&((l=fi(t))||Ci(t))){for(var c=r.length;c--;)if(o=r[c]==t){s=i[c];break}if(!o){var f;n&&(u=n(s,t),(f="undefined"!=typeof u)&&(s=u)),f||(s=l?fi(s)?s:[]:Ci(s)?s:{}),r.push(t),i.push(s),f||ut(s,t,n,r,i)}}else n&&(u=n(s,t),"undefined"==typeof u&&(u=t)),"undefined"!=typeof u&&(s=u);e[a]=s})}function st(e,t){return e+qr(ai()*(t-e+1))}function ct(n,r,i){var o=-1,u=bt(),s=n?n.length:0,h=[],p=!r&&s>=_&&u===e,d=i||p?l():h;if(p){var b=a(d);u=t,d=b}for(;++o<s;){var g=n[o],v=i?i(g,o,n):g;(r?!o||d[d.length-1]!==v:u(d,v)<0)&&((i||p)&&d.push(v),h.push(g))}return p?(c(d.array),f(d)):i&&c(d),h}function ft(e){return function(t,n,r){var i={};if(n=b.createCallback(n,r,3),fi(t))for(var a=-1,o=t.length;++a<o;){var l=t[a];e(i,l,n(l,a,t),t)}else xi(t,function(t,r,a){e(i,t,n(t,r,a),a)});return i}}function ht(e,t,n,r,i,a){var o=1&t,l=2&t,u=4&t,s=16&t,c=32&t;if(!l&&!Ht(e))throw new Sr;s&&!n.length&&(t&=-17,s=n=!1),c&&!r.length&&(t&=-33,c=r=!1);var f=e&&e.__bindData__;if(f&&f!==!0)return f=h(f),f[2]&&(f[2]=h(f[2])),f[3]&&(f[3]=h(f[3])),!o||1&f[1]||(f[4]=i),!o&&1&f[1]&&(t|=8),!u||4&f[1]||(f[5]=a),s&&Br.apply(f[2]||(f[2]=[]),n),c&&Xr.apply(f[3]||(f[3]=[]),r),f[1]|=t,ht.apply(null,f);var p=1==t||17===t?x:rt;return p([e,t,n,r,i,a])}function pt(){J.shadowedProps=H,J.array=J.bottom=J.loop=J.top="",J.init="iterable",J.useHas=!0;for(var e,t=0;e=arguments[t];t++)for(var n in e)J[n]=e[n];var r=J.args;J.firstArg=/^[^,]+/.exec(r)[0];var i=jr("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+si(J)+"\n}");return i(nt,L,Mr,Fr,m,yt,fi,Lt,J.keys,Dr,Q,li,K,Wr,Ir)}function dt(e){return vi[e]}function bt(){var t=(t=b.indexOf)===jn?e:t;return t}function gt(e){return"function"==typeof e&&Rr.test(e)}function vt(e){var t,n;return!e||Ir.call(e)!=B||(t=e.constructor,Ht(t)&&!(t instanceof t))||!ui.argsClass&&yt(e)||!ui.nodeClass&&s(e)?!1:ui.ownLast?(zi(e,function(e,t,r){return n=Fr.call(r,t),!1}),n!==!1):(zi(e,function(e,t){n=t}),"undefined"==typeof n||Fr.call(e,n))}function mt(e){return mi[e]}function yt(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ir.call(e)==R||!1}function _t(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n=t,t=!1),Z(e,t,"function"==typeof n&&nt(n,r,1))}function xt(e,t,n){return Z(e,!0,"function"==typeof t&&nt(t,n,1))}function wt(e,t){var n=tt(e);return t?wi(n,t):n}function kt(e,t,n){var r;return t=b.createCallback(t,n,3),ji(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function zt(e,t,n){var r;return t=b.createCallback(t,n,3),Ct(e,function(e,n,i){return t(e,n,i)?(r=n,!1):void 0}),r}function jt(e,t,n){var r=[];zi(e,function(e,t){r.push(t,e)});var i=r.length;for(t=nt(t,n,3);i--&&t(r[i--],r[i],e)!==!1;);return e}function Ct(e,t,n){var r=pi(e),i=r.length;for(t=nt(t,n,3);i--;){var a=r[i];if(t(e[a],a,e)===!1)break}return e}function Et(e){var t=[];return zi(e,function(e,n){Ht(e)&&t.push(n)}),t.sort()}function Nt(e,t){return e?Fr.call(e,t):!1}function Pt(e){for(var t=-1,n=pi(e),r=n.length,i={};++t<r;){var a=n[t];i[e[a]]=a}return i}function Ot(e){return e===!0||e===!1||e&&"object"==typeof e&&Ir.call(e)==A||!1}function St(e){return e&&"object"==typeof e&&Ir.call(e)==q||!1}function Tt(e){return e&&1===e.nodeType||!1}function Mt(e){var t=!0;if(!e)return t;var n=Ir.call(e),r=e.length;return n==$||n==K||(ui.argsClass?n==R:yt(e))||n==B&&"number"==typeof r&&Ht(e.splice)?!r:(ji(e,function(){return t=!1}),t)}function Dt(e,t,n,r){return lt(e,t,"function"==typeof n&&nt(n,r,2))}function Wt(e){return Zr(e)&&!ei(parseFloat(e))}function Ht(e){return"function"==typeof e}function It(e){return!(!e||!Q[typeof e])}function Rt(e){return At(e)&&e!=+e}function $t(e){return null===e}function At(e){return"number"==typeof e||e&&"object"==typeof e&&Ir.call(e)==F||!1}function qt(e){return e&&Q[typeof e]&&Ir.call(e)==U||!1}function Lt(e){return"string"==typeof e||e&&"object"==typeof e&&Ir.call(e)==K||!1}function Vt(e){return"undefined"==typeof e}function Ft(e,t,n){var r={};return t=b.createCallback(t,n,3),ji(e,function(e,n,i){r[n]=t(e,n,i)}),r}function Bt(e){var t=arguments,n=2;if(!It(e))return e;if("number"!=typeof t[2]&&(n=t.length),n>3&&"function"==typeof t[n-2])var r=nt(t[--n-1],t[n--],2);else n>2&&"function"==typeof t[n-1]&&(r=t[--n]);for(var i=h(arguments,1,n),a=-1,o=l(),u=l();++a<n;)ut(e,i[a],r,o,u);return c(o),c(u),e}function Ut(e,t,n){var r={};if("function"!=typeof t){var i=[];zi(e,function(e,t){i.push(t)}),i=it(i,ot(arguments,!0,!1,1));for(var a=-1,o=i.length;++a<o;){var l=i[a];r[l]=e[l]}}else t=b.createCallback(t,n,3),zi(e,function(e,n,i){t(e,n,i)||(r[n]=e)});return r}function Kt(e){for(var t=-1,n=pi(e),r=n.length,i=xr(r);++t<r;){var a=n[t];i[t]=[a,e[a]]}return i}function Gt(e,t,n){var r={};if("function"!=typeof t)for(var i=-1,a=ot(arguments,!0,!1,1),o=It(e)?a.length:0;++i<o;){var l=a[i];l in e&&(r[l]=e[l])}else t=b.createCallback(t,n,3),zi(e,function(e,n,i){t(e,n,i)&&(r[n]=e)});return r}function Xt(e,t,n,r){var i=fi(e);if(null==n)if(i)n=[];else{var a=e&&e.constructor,o=a&&a.prototype;n=tt(o)}return t&&(t=b.createCallback(t,r,4),(i?xi:ji)(e,function(e,r,i){return t(n,e,r,i)})),n}function Yt(e){for(var t=-1,n=pi(e),r=n.length,i=xr(r);++t<r;)i[t]=e[n[t]];return i}function Jt(e){var t=arguments,n=-1,r=ot(t,!0,!1,1),i=t[2]&&t[2][t[1]]===e?1:r.length,a=xr(i);for(ui.unindexedChars&&Lt(e)&&(e=e.split(""));++n<i;)a[n]=e[r[n]];return a}function Qt(e,t,n){var r=-1,i=bt(),a=e?e.length:0,o=!1;return n=(0>n?ni(0,a+n):n)||0,fi(e)?o=i(e,t,n)>-1:"number"==typeof a?o=(Lt(e)?e.indexOf(t,n):i(e,t,n))>-1:xi(e,function(e){return++r>=n?!(o=e===t):void 0}),o}function Zt(e,t,n){var r=!0;if(t=b.createCallback(t,n,3),fi(e))for(var i=-1,a=e.length;++i<a&&(r=!!t(e[i],i,e)););else xi(e,function(e,n,i){return r=!!t(e,n,i)});return r}function en(e,t,n){var r=[];if(t=b.createCallback(t,n,3),fi(e))for(var i=-1,a=e.length;++i<a;){var o=e[i];t(o,i,e)&&r.push(o)}else xi(e,function(e,n,i){t(e,n,i)&&r.push(e)});return r}function tn(e,t,n){if(t=b.createCallback(t,n,3),!fi(e)){var r;return xi(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}for(var i=-1,a=e.length;++i<a;){var o=e[i];if(t(o,i,e))return o}}function nn(e,t,n){var r;return t=b.createCallback(t,n,3),an(e,function(e,n,i){return t(e,n,i)?(r=e,!1):void 0}),r}function rn(e,t,n){if(t&&"undefined"==typeof n&&fi(e))for(var r=-1,i=e.length;++r<i&&t(e[r],r,e)!==!1;);else xi(e,t,n);return e}function an(e,t,n){var r=e,i=e?e.length:0;if(t=t&&"undefined"==typeof n?t:nt(t,n,3),fi(e))for(;i--&&t(e[i],i,e)!==!1;);else{if("number"!=typeof i){var a=pi(e);i=a.length}else ui.unindexedChars&&Lt(e)&&(r=e.split(""));xi(e,function(e,n,o){return n=a?a[--i]:--i,t(r[n],n,o)})}return e}function on(e,t){var n=h(arguments,2),r=-1,i="function"==typeof t,a=e?e.length:0,o=xr("number"==typeof a?a:0);return rn(e,function(e){o[++r]=(i?t:e[t]).apply(e,n)}),o}function ln(e,t,n){var r=-1,i=e?e.length:0,a=xr("number"==typeof i?i:0);if(t=b.createCallback(t,n,3),fi(e))for(;++r<i;)a[r]=t(e[r],r,e);else xi(e,function(e,n,i){a[++r]=t(e,n,i)});return a}function un(e,t,n){var i=-1/0,a=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&fi(e))for(var o=-1,l=e.length;++o<l;){var u=e[o];u>a&&(a=u)}else t=null==t&&Lt(e)?r:b.createCallback(t,n,3),xi(e,function(e,n,r){var o=t(e,n,r);o>i&&(i=o,a=e)});return a}function sn(e,t,n){var i=1/0,a=i;if("function"!=typeof t&&n&&n[t]===e&&(t=null),null==t&&fi(e))for(var o=-1,l=e.length;++o<l;){var u=e[o];a>u&&(a=u)}else t=null==t&&Lt(e)?r:b.createCallback(t,n,3),xi(e,function(e,n,r){var o=t(e,n,r);i>o&&(i=o,a=e)});return a}function cn(e,t,n,r){var i=arguments.length<3;if(t=b.createCallback(t,r,4),fi(e)){var a=-1,o=e.length;for(i&&(n=e[++a]);++a<o;)n=t(n,e[a],a,e)}else xi(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)});return n}function fn(e,t,n,r){var i=arguments.length<3;return t=b.createCallback(t,r,4),an(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function hn(e,t,n){return t=b.createCallback(t,n,3),en(e,function(e,n,r){return!t(e,n,r)})}function pn(e,t,n){if(e&&"number"!=typeof e.length?e=Yt(e):ui.unindexedChars&&Lt(e)&&(e=e.split("")),null==t||n)return e?e[st(0,e.length-1)]:d;var r=dn(e);return r.length=ri(ni(0,t),r.length),r}function dn(e){var t=-1,n=e?e.length:0,r=xr("number"==typeof n?n:0);return rn(e,function(e){var n=st(0,++t);r[t]=r[n],r[n]=e}),r}function bn(e){var t=e?e.length:0;return"number"==typeof t?t:pi(e).length}function gn(e,t,n){var r;if(t=b.createCallback(t,n,3),fi(e))for(var i=-1,a=e.length;++i<a&&!(r=t(e[i],i,e)););else xi(e,function(e,n,i){return!(r=t(e,n,i))});return!!r}function vn(e,t,n){var r=-1,a=fi(t),o=e?e.length:0,s=xr("number"==typeof o?o:0);for(a||(t=b.createCallback(t,n,3)),rn(e,function(e,n,i){var o=s[++r]=u();a?o.criteria=ln(t,function(t){return e[t]}):(o.criteria=l())[0]=t(e,n,i),o.index=r,o.value=e}),o=s.length,s.sort(i);o--;){var h=s[o];s[o]=h.value,a||c(h.criteria),f(h)}return s}function mn(e){return e&&"number"==typeof e.length?ui.unindexedChars&&Lt(e)?e.split(""):h(e):Yt(e)}function yn(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var i=e[t];i&&r.push(i)}return r}function _n(e){return it(e,ot(arguments,!0,!0,1))}function xn(e,t,n){var r=-1,i=e?e.length:0;for(t=b.createCallback(t,n,3);++r<i;)if(t(e[r],r,e))return r;return-1}function wn(e,t,n){var r=e?e.length:0;for(t=b.createCallback(t,n,3);r--;)if(t(e[r],r,e))return r;return-1}function kn(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=-1;for(t=b.createCallback(t,n,3);++a<i&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[0]:d;return h(e,0,ri(ni(0,r),i))}function zn(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(e=ln(e,n,r)),ot(e,t)}function jn(t,n,r){if("number"==typeof r){var i=t?t.length:0;r=0>r?ni(0,i+r):r||0}else if(r){var a=Dn(t,n);return t[a]===n?a:-1}return e(t,n,r)}function Cn(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=b.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else r=null==t||n?1:t||r;return h(e,0,ri(ni(0,i-r),i))}function En(){for(var n=[],r=-1,i=arguments.length,o=l(),u=bt(),s=u===e,h=l();++r<i;){var p=arguments[r];(fi(p)||yt(p))&&(n.push(p),o.push(s&&p.length>=_&&a(r?n[r]:h)))}var d=n[0],b=-1,g=d?d.length:0,v=[];e:for(;++b<g;){var m=o[0];if(p=d[b],(m?t(m,p):u(h,p))<0){for(r=i,(m||h).push(p);--r;)if(m=o[r],(m?t(m,p):u(n[r],p))<0)continue e;v.push(p)}}for(;i--;)m=o[i],m&&f(m);return c(o),c(h),v}function Nn(e,t,n){var r=0,i=e?e.length:0;if("number"!=typeof t&&null!=t){var a=i;for(t=b.createCallback(t,n,3);a--&&t(e[a],a,e);)r++}else if(r=t,null==r||n)return e?e[i-1]:d;return h(e,ni(0,i-r))}function Pn(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?ni(0,r+n):ri(n,r-1))+1);r--;)if(e[r]===t)return r;return-1}function On(e){for(var t=arguments,n=0,r=t.length,i=e?e.length:0;++n<r;)for(var a=-1,o=t[n];++a<i;)e[a]===o&&(Gr.call(e,a--,1),i--);return e}function Sn(e,t,n){e=+e||0,n="number"==typeof n?n:+n||1,null==t&&(t=e,e=0);for(var r=-1,i=ni(0,$r((t-e)/(n||1))),a=xr(i);++r<i;)a[r]=e,e+=n;return a}function Tn(e,t,n){var r=-1,i=e?e.length:0,a=[];for(t=b.createCallback(t,n,3);++r<i;){var o=e[r];t(o,r,e)&&(a.push(o),Gr.call(e,r--,1),i--)}return a}function Mn(e,t,n){if("number"!=typeof t&&null!=t){var r=0,i=-1,a=e?e.length:0;for(t=b.createCallback(t,n,3);++i<a&&t(e[i],i,e);)r++}else r=null==t||n?1:ni(0,t);return h(e,r)}function Dn(e,t,n,r){var i=0,a=e?e.length:i;for(n=n?b.createCallback(n,r,1):ar,t=n(t);a>i;){var o=i+a>>>1;n(e[o])<t?i=o+1:a=o}return i}function Wn(){return ct(ot(arguments,!0,!0))}function Hn(e,t,n,r){return"boolean"!=typeof t&&null!=t&&(r=n,n="function"!=typeof t&&r&&r[t]===e?null:t,t=!1),null!=n&&(n=b.createCallback(n,r,3)),ct(e,t,n)}function In(e){return it(e,h(arguments,1))}function Rn(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(fi(n)||yt(n))var r=r?ct(it(r,n).concat(it(n,r))):n}return r||[]}function $n(){for(var e=arguments.length>1?arguments:arguments[0],t=-1,n=e?un(Oi(e,"length")):0,r=xr(0>n?0:n);++t<n;)r[t]=Oi(e,t);return r}function An(e,t){var n=-1,r=e?e.length:0,i={};for(t||!r||fi(e[0])||(t=[]);++n<r;){var a=e[n];t?i[a]=t[n]:a&&(i[a[0]]=a[1])}return i}function qn(e,t){if(!Ht(t))throw new Sr;return function(){return--e<1?t.apply(this,arguments):void 0}}function Ln(e,t){return arguments.length>2?ht(e,17,h(arguments,2),null,t):ht(e,1,null,null,t)}function Vn(e){for(var t=arguments.length>1?ot(arguments,!0,!1,1):Et(e),n=-1,r=t.length;++n<r;){var i=t[n];e[i]=ht(e[i],1,null,null,e)}return e}function Fn(e,t){return arguments.length>2?ht(t,19,h(arguments,2),null,e):ht(t,3,null,null,e)}function Bn(){for(var e=arguments,t=e.length;t--;)if(!Ht(e[t]))throw new Sr;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}}function Un(e,t){return t="number"==typeof t?t:+t||e.length,ht(e,4,null,null,null,t)}function Kn(e,t,n){var r,i,a,o,l,u,s,c=0,f=!1,h=!0;if(!Ht(e))throw new Sr;if(t=ni(0,t)||0,n===!0){var p=!0;h=!1}else It(n)&&(p=n.leading,f="maxWait"in n&&(ni(t,n.maxWait)||0),h="trailing"in n?n.trailing:h);var b=function(){var n=t-(Ti()-o);if(0>=n){i&&Ar(i);var f=s;i=u=s=d,f&&(c=Ti(),a=e.apply(l,r),u||i||(r=l=null))}else u=Kr(b,n)},g=function(){u&&Ar(u),i=u=s=d,(h||f!==t)&&(c=Ti(),a=e.apply(l,r),u||i||(r=l=null))};return function(){if(r=arguments,o=Ti(),l=this,s=h&&(u||!p),f===!1)var n=p&&!u;else{i||p||(c=o);var d=f-(o-c),v=0>=d;v?(i&&(i=Ar(i)),c=o,a=e.apply(l,r)):i||(i=Kr(g,d))}return v&&u?u=Ar(u):u||t===f||(u=Kr(b,t)),n&&(v=!0,a=e.apply(l,r)),!v||u||i||(r=l=null),a}}function Gn(e){if(!Ht(e))throw new Sr;var t=h(arguments,1);return Kr(function(){e.apply(d,t)},1)}function Xn(e,t){if(!Ht(e))throw new Sr;var n=h(arguments,2);return Kr(function(){e.apply(d,n)},t)}function Yn(e,t){if(!Ht(e))throw new Sr;var n=function(){var r=n.cache,i=t?t.apply(this,arguments):y+arguments[0];return Fr.call(r,i)?r[i]:r[i]=e.apply(this,arguments)};return n.cache={},n}function Jn(e){var t,n;if(!Ht(e))throw new Sr;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}}function Qn(e){return ht(e,16,h(arguments,1))}function Zn(e){return ht(e,32,null,h(arguments,1))}function er(e,t,n){var r=!0,i=!0;if(!Ht(e))throw new Sr;return n===!1?r=!1:It(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),X.leading=r,X.maxWait=t,X.trailing=i,Kn(e,t,X)}function tr(e,t){return ht(t,16,[e])}function nr(e){return function(){return e}}function rr(e,t,n){var r=typeof e;if(null==e||"function"==r)return nt(e,t,n);if("object"!=r)return sr(e);var i=pi(e),a=i[0],o=e[a];return 1!=i.length||o!==o||It(o)?function(t){for(var n=i.length,r=!1;n--&&(r=lt(t[i[n]],e[i[n]],null,!0)););return r}:function(e){var t=e[a];return o===t&&(0!==o||1/o==1/t)}}function ir(e){return null==e?"":Or(e).replace(_i,dt)}function ar(e){return e}function or(e,t,n){var r=!0,i=t&&Et(t);t&&(n||i.length)||(null==n&&(n=t),a=g,t=e,e=b,i=Et(t)),n===!1?r=!1:It(n)&&"chain"in n&&(r=n.chain);var a=e,o=Ht(a);rn(i,function(n){var i=e[n]=t[n];o&&(a.prototype[n]=function(){var t=this.__chain__,n=this.__wrapped__,o=[n];Br.apply(o,arguments);var l=i.apply(e,o);if(r||t){if(n===l&&It(l))return this;l=new a(l),l.__chain__=t}return l})})}function lr(){return n._=Hr,this}function ur(){}function sr(e){return function(t){return t[e]}}function cr(e,t,n){var r=null==e,i=null==t;if(null==n&&("boolean"==typeof e&&i?(n=e,e=1):i||"boolean"!=typeof t||(n=t,i=!0)),r&&i&&(t=1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=ai();return ri(e+a*(t-e+parseFloat("1e-"+((a+"").length-1))),t)}return st(e,t)}function fr(e,t){if(e){var n=e[t];return Ht(n)?e[t]():n}}function hr(e,t,n){var r=b.templateSettings;e=Or(e||""),n=ki({},n,r);var i,a=ki({},n.imports,r.imports),l=pi(a),u=Yt(a),s=0,c=n.interpolate||T,f="__p += '",h=Pr((n.escape||T).source+"|"+c.source+"|"+(c===O?E:T).source+"|"+(n.evaluate||T).source+"|$","g");e.replace(h,function(t,n,r,a,l,u){return r||(r=a),f+=e.slice(s,u).replace(D,o),n&&(f+="' +\n__e("+n+") +\n'"),l&&(i=!0,f+="';\n"+l+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=u+t.length,t}),f+="';\n";var p=n.variable,g=p;g||(p="obj",f="with ("+p+") {\n"+f+"\n}\n"),f=(i?f.replace(z,""):f).replace(j,"$1").replace(C,"$1;"),f="function("+p+") {\n"+(g?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+I++ +"]")+"\n*/";try{var m=jr(l,"return "+f+v).apply(d,u)}catch(y){throw y.source=f,y}return t?m(t):(m.source=f,m)}function pr(e,t,n){e=(e=+e)>-1?e:0;var r=-1,i=xr(e);for(t=nt(t,n,1);++r<e;)i[r]=t(r);return i}function dr(e){return null==e?"":Or(e).replace(yi,mt)}function br(e){var t=++v;return Or(null==e?"":e)+t}function gr(e){return e=new g(e),e.__chain__=!0,e}function vr(e,t){return t(e),e}function mr(){return this.__chain__=!0,this}function yr(){return Or(this.__wrapped__)}function _r(){return this.__wrapped__}n=n?at.defaults(et.Object(),n,at.pick(et,W)):et;var xr=n.Array,wr=n.Boolean,kr=n.Date,zr=n.Error,jr=n.Function,Cr=n.Math,Er=n.Number,Nr=n.Object,Pr=n.RegExp,Or=n.String,Sr=n.TypeError,Tr=[],Mr=zr.prototype,Dr=Nr.prototype,Wr=Or.prototype,Hr=n._,Ir=Dr.toString,Rr=Pr("^"+Or(Ir).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),$r=Cr.ceil,Ar=n.clearTimeout,qr=Cr.floor,Lr=jr.prototype.toString,Vr=gt(Vr=Nr.getPrototypeOf)&&Vr,Fr=Dr.hasOwnProperty,Br=Tr.push,Ur=Dr.propertyIsEnumerable,Kr=n.setTimeout,Gr=Tr.splice,Xr=Tr.unshift,Yr=function(){try{var e={},t=gt(t=Nr.defineProperty)&&t,n=t(e,e,e)&&t}catch(r){}return n}(),Jr=gt(Jr=Nr.create)&&Jr,Qr=gt(Qr=xr.isArray)&&Qr,Zr=n.isFinite,ei=n.isNaN,ti=gt(ti=Nr.keys)&&ti,ni=Cr.max,ri=Cr.min,ii=n.parseInt,ai=Cr.random,oi={};oi[$]=xr,oi[A]=wr,oi[q]=kr,oi[V]=jr,oi[B]=Nr,oi[F]=Er,oi[U]=Pr,oi[K]=Or;var li={};li[$]=li[q]=li[F]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},li[A]=li[K]={constructor:!0,toString:!0,valueOf:!0},li[L]=li[V]=li[U]={constructor:!0,toString:!0},li[B]={constructor:!0},function(){for(var e=H.length;e--;){var t=H[e];for(var n in li)Fr.call(li,n)&&!Fr.call(li[n],t)&&(li[n][t]=!1)}}(),g.prototype=b.prototype;var ui=b.support={};!function(){var e=function(){this.x=1},t={0:1,length:1},r=[];e.prototype={valueOf:1,y:1};for(var i in new e)r.push(i);for(i in arguments);ui.argsClass=Ir.call(arguments)==R,ui.argsObject=arguments.constructor==Nr&&!(arguments instanceof xr),ui.enumErrorProps=Ur.call(Mr,"message")||Ur.call(Mr,"name"),ui.enumPrototypes=Ur.call(e,"prototype"),ui.funcDecomp=!gt(n.WinRTError)&&M.test(p),ui.funcNames="string"==typeof jr.name,ui.nonEnumArgs=0!=i,ui.nonEnumShadows=!/valueOf/.test(r),ui.ownLast="x"!=r[0],ui.spliceObjects=(Tr.splice.call(t,0,1),!t[0]),ui.unindexedChars="x"[0]+Nr("x")[0]!="xx";try{ui.nodeClass=!(Ir.call(document)==B&&!({toString:0}+""))}catch(a){ui.nodeClass=!0}}(1),b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:O,variable:"",imports:{_:b}};var si=function(e){var t="var index, iterable = "+e.firstArg+", result = "+e.init+";\nif (!iterable) return result;\n"+e.top+";";e.array?(t+="\nvar length = iterable.length; index = -1;\nif ("+e.array+") {  ",ui.unindexedChars&&(t+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),t+="\n  while (++index < length) {\n    "+e.loop+";\n  }\n}\nelse {  "):ui.nonEnumArgs&&(t+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+e.loop+";\n    }\n  } else {  "),ui.enumPrototypes&&(t+="\n  var skipProto = typeof iterable == 'function';\n  "),ui.enumErrorProps&&(t+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(ui.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),ui.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),e.useHas&&e.keys)t+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }  ";else if(t+="\n  for (index in iterable) {\n",e.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(t+="    if ("+n.join(" && ")+") {\n  "),t+=e.loop+";    ",n.length&&(t+="\n    }"),t+="\n  }    ",ui.nonEnumShadows){for(t+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)t+="\n    index = '"+e.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",e.useHas||(t+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),t+=") {\n      "+e.loop+";\n    }      ";t+="\n  }    "}return(e.array||ui.nonEnumArgs)&&(t+="\n}"),t+=e.bottom+";\nreturn result"};Jr||(tt=function(){function e(){}return function(t){if(It(t)){e.prototype=t;var r=new e;e.prototype=null}return r||n.Object()}}());var ci=Yr?function(e,t){Y.value=t,Yr(e,"__bindData__",Y)}:ur;ui.argsClass||(yt=function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Fr.call(e,"callee")&&!Ur.call(e,"callee")||!1});var fi=Qr||function(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Ir.call(e)==$||!1},hi=pt({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),pi=ti?function(e){return It(e)?ui.enumPrototypes&&"function"==typeof e||ui.nonEnumArgs&&e.length&&yt(e)?hi(e):ti(e):[]}:hi,di={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:pi,loop:"if (callback(iterable[index], index, collection) === false) return result"},bi={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:pi,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},gi={top:"if (!objectTypes[typeof iterable]) return result;\n"+di.top,array:!1},vi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mi=Pt(vi),yi=Pr("("+pi(mi).join("|")+")","g"),_i=Pr("["+pi(vi).join("")+"]","g"),xi=pt(di),wi=pt(bi,{top:bi.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),ki=pt(bi),zi=pt(di,gi,{useHas:!1}),ji=pt(di,gi);Ht(/x/)&&(Ht=function(e){return"function"==typeof e&&Ir.call(e)==V});var Ci=Vr?function(e){if(!e||Ir.call(e)!=B||!ui.argsClass&&yt(e))return!1;var t=e.valueOf,n=gt(t)&&(n=Vr(t))&&Vr(n);return n?e==n||Vr(e)==n:vt(e)}:vt,Ei=ft(function(e,t,n){Fr.call(e,n)?e[n]++:e[n]=1}),Ni=ft(function(e,t,n){(Fr.call(e,n)?e[n]:e[n]=[]).push(t)}),Pi=ft(function(e,t,n){e[n]=t}),Oi=ln,Si=en,Ti=gt(Ti=kr.now)&&Ti||function(){return(new kr).getTime()},Mi=8==ii(w+"08")?ii:function(e,t){return ii(Lt(e)?e.replace(S,""):e,t||0)};return b.after=qn,b.assign=wi,b.at=Jt,b.bind=Ln,b.bindAll=Vn,b.bindKey=Fn,b.chain=gr,b.compact=yn,b.compose=Bn,b.constant=nr,b.countBy=Ei,b.create=wt,b.createCallback=rr,b.curry=Un,b.debounce=Kn,b.defaults=ki,b.defer=Gn,b.delay=Xn,b.difference=_n,b.filter=en,b.flatten=zn,b.forEach=rn,b.forEachRight=an,b.forIn=zi,b.forInRight=jt,b.forOwn=ji,b.forOwnRight=Ct,b.functions=Et,b.groupBy=Ni,b.indexBy=Pi,b.initial=Cn,b.intersection=En,b.invert=Pt,b.invoke=on,b.keys=pi,b.map=ln,b.mapValues=Ft,b.max=un,b.memoize=Yn,b.merge=Bt,b.min=sn,b.omit=Ut,b.once=Jn,b.pairs=Kt,b.partial=Qn,b.partialRight=Zn,b.pick=Gt,b.pluck=Oi,b.property=sr,b.pull=On,b.range=Sn,b.reject=hn,b.remove=Tn,b.rest=Mn,b.shuffle=dn,b.sortBy=vn,b.tap=vr,b.throttle=er,b.times=pr,b.toArray=mn,b.transform=Xt,b.union=Wn,b.uniq=Hn,b.values=Yt,b.where=Si,b.without=In,b.wrap=tr,b.xor=Rn,b.zip=$n,b.zipObject=An,b.collect=ln,b.drop=Mn,b.each=rn,b.eachRight=an,b.extend=wi,b.methods=Et,b.object=An,b.select=en,b.tail=Mn,b.unique=Hn,b.unzip=$n,or(b),b.clone=_t,b.cloneDeep=xt,b.contains=Qt,b.escape=ir,b.every=Zt,b.find=tn,b.findIndex=xn,b.findKey=kt,b.findLast=nn,b.findLastIndex=wn,b.findLastKey=zt,b.has=Nt,b.identity=ar,b.indexOf=jn,b.isArguments=yt,b.isArray=fi,b.isBoolean=Ot,b.isDate=St,b.isElement=Tt,b.isEmpty=Mt,b.isEqual=Dt,b.isFinite=Wt,b.isFunction=Ht,b.isNaN=Rt,b.isNull=$t,b.isNumber=At,b.isObject=It,b.isPlainObject=Ci,b.isRegExp=qt,b.isString=Lt,b.isUndefined=Vt,b.lastIndexOf=Pn,b.mixin=or,b.noConflict=lr,b.noop=ur,b.now=Ti,b.parseInt=Mi,b.random=cr,b.reduce=cn,b.reduceRight=fn,b.result=fr,b.runInContext=p,b.size=bn,b.some=gn,b.sortedIndex=Dn,b.template=hr,b.unescape=dr,b.uniqueId=br,b.all=Zt,b.any=gn,b.detect=tn,b.findWhere=tn,b.foldl=cn,b.foldr=fn,b.include=Qt,b.inject=cn,or(function(){var e={};return ji(b,function(t,n){b.prototype[n]||(e[n]=t)}),e}(),!1),b.first=kn,b.last=Nn,b.sample=pn,b.take=kn,b.head=kn,ji(b,function(e,t){var n="sample"!==t;b.prototype[t]||(b.prototype[t]=function(t,r){var i=this.__chain__,a=e(this.__wrapped__,t,r);return i||null!=t&&(!r||n&&"function"==typeof t)?new g(a,i):a})}),b.VERSION="2.4.1",b.prototype.chain=mr,b.prototype.toString=yr,b.prototype.value=_r,b.prototype.valueOf=_r,xi(["join","pop","shift"],function(e){var t=Tr[e];b.prototype[e]=function(){var e=this.__chain__,n=t.apply(this.__wrapped__,arguments);
return e?new g(n,e):n}}),xi(["push","reverse","sort","unshift"],function(e){var t=Tr[e];b.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),xi(["concat","slice","splice"],function(e){var t=Tr[e];b.prototype[e]=function(){return new g(t.apply(this.__wrapped__,arguments),this.__chain__)}}),ui.spliceObjects||xi(["pop","shift","splice"],function(e){var t=Tr[e],n="splice"==e;b.prototype[e]=function(){var e=this.__chain__,r=this.__wrapped__,i=t.apply(r,arguments);return 0===r.length&&delete r[0],e||n?new g(i,e):i}}),b}var d,b=[],g=[],v=0,m={},y=+new Date+"",_=75,x=40,w=" 	\f \n\r\u2028\u2029 ᠎             　",z=/\b__p \+= '';/g,j=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N=/\w*$/,P=/^\s*function[ \n\r\t]+\w/,O=/<%=([\s\S]+?)%>/g,S=RegExp("^["+w+"]*0+(?=.$)"),T=/($^)/,M=/\bthis\b/,D=/['\n\r\t\u2028\u2029\\]/g,W=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],H=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],I=0,R="[object Arguments]",$="[object Array]",A="[object Boolean]",q="[object Date]",L="[object Error]",V="[object Function]",F="[object Number]",B="[object Object]",U="[object RegExp]",K="[object String]",G={};G[V]=!1,G[R]=G[$]=G[A]=G[q]=G[F]=G[B]=G[U]=G[K]=!0;var X={leading:!1,maxWait:0,trailing:!1},Y={configurable:!1,enumerable:!1,value:null,writable:!1},J={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},Q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},et=Q[typeof window]&&window||this,tt=Q[typeof exports]&&exports&&!exports.nodeType&&exports,nt=Q[typeof module]&&module&&!module.nodeType&&module,rt=nt&&nt.exports===tt&&tt,it=Q[typeof global]&&global;!it||it.global!==it&&it.window!==it||(et=it);var at=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(et._=at,define("lodash",[],function(){return at})):tt&&nt?rt?(nt.exports=at)._=at:tt._=at:et._=at}.call(this),define("subject",["lodash"],function(e){var t={initialize:function(){}},n=function(){};return n.prototype=t,n.proto=function(t,n){return e.isObject(t)?e.assign(this.prototype,t):this.prototype[t]=n,this},n.protoMerge=function(t,n){if(e.isString(t)){var r=this.prototype[t],i=e.assign({},r,n);this.proto(t,i)}else e.each(t,e.bind(function(e,t){this.protoMerge(t,e)},this))},n.extend=function(t,n,r){var i,a;e.isFunction(t)?(i=e.assign({},n,{initialize:t}),a=r):e.isObject(t)&&(i=t||{},a=r);var o,l=this;return o=function(){var e=Object.create(o.prototype);return e.initialize.apply(e,arguments),e},e.assign(o,l,a),o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.proto(i),o.__super__=l.prototype,o},n.extend.bind(n)}),define("no",["require","exports","module","subject"],function(e,t,n){function r(e){return!isNaN(e)}var i=e("subject"),a=n.exports=i({initialize:function(e){this.number=this.evaluate(e)},validate:function(e){return"number"==typeof e&&r(e)},coerce:function(e){return parseFloat(e,10)},evaluate:function(e){return this.validate(e)?e:this.coerce(e)},ensureValidity:function(e){if(!this.validate(this.number))throw e=e||"is not a valid number.",new Error("Number "+this.number+" - "+e)},add:function(e){return e=this.evaluate(e),this.number=this.number+e,this},subtract:function(e){return e=this.evaluate(e),this.number=this.number-e,this},multiply:function(e){return e=this.evaluate(e),this.number=this.number*e,this},divide:function(e){return e=this.evaluate(e),this.number=this.number/e,this},isGt:function(e){return e=this.evaluate(e),this.number>e},isGte:function(e){return e=this.evaluate(e),this.number>=e},isLt:function(e){return e=this.evaluate(e),this.number<e},isLte:function(e){return e=this.evaluate(e),this.number<=e},value:function(){return this.number}});return a}),define("__backbone-ui-resizable/handle/update-position",["require","exports","module","./helpers","no"],function(e,t){function n(){this.modeld.set("top",-1*this.outer)}function r(){var e=u(this.resizable.modeld.get("height")).subtract(this.inner);this.modeld.set("top",e.value())}function i(){this.modeld.set("left",-1*this.outer)}function a(){var e=u(this.resizable.modeld.get("width")).subtract(this.inner);this.modeld.set("left",e.value())}function o(){this.modeld.set("width",u(this.resizable.modeld.get("width")).add(2*this.outer).value())}function l(){this.modeld.set("height",u(this.resizable.modeld.get("height")).add(2*this.outer).value())}var u=(e("./helpers"),e("no"));t.n=function(){n.call(this),i.call(this),o.call(this)},t.s=function(){r.call(this),i.call(this),o.call(this)},t.w=function(){i.call(this),n.call(this),l.call(this)},t.e=function(){a.call(this),n.call(this),l.call(this)},t.nw=function(){n.call(this),i.call(this)},t.ne=function(){n.call(this),a.call(this)},t.sw=function(){r.call(this),i.call(this)},t.se=function(){r.call(this),a.call(this)}}),define("__backbone-ui-resizable/handle/enable-disable",["require","exports","module"],function(e,t){t.disableHandle=function(){return this.disableDraggable(),this.$el.addClass(this.resizable.handleOptions.clss+"-disabled").removeClass(this.resizable.handleOptions.clss+"-enabled"),this},t.enableHandle=function(){return this.enableDraggable(),this.$el.addClass(this.resizable.handleOptions.clss+"-enabled").removeClass(this.resizable.handleOptions.clss+"-disabled"),this}}),define("__backbone-ui-resizable/handle/base",["require","exports","module","backbone-ui-draggable","lodash","./update-position","./enable-disable"],function(e,t,n){var r=e("backbone-ui-draggable"),i=e("lodash"),a=e("./update-position"),o={n:"y",s:"y",w:"x",e:"x",nw:"xy",ne:"xy",sw:"xy",se:"xy"},l=n.exports=r.extend({initialize:function(e){r.prototype.initialize.call(this,e),this.initializeResizableHandle(e)},initializeResizableHandle:function(e){this.resizable=e.resizable,this.direction=e.direction,this.axis=o[this.direction],this.thickness=e.thickness,this.ratio=e.ratio,this.outer=e.thickness*this.ratio,this.inner=e.thickness-this.outer,this.updatePosition=i.bind(a[this.direction],this),this.setStyles(),this.updatePosition(),this.enableHandle(),this.listenTo(this.resizable.modeld,"change",this.updatePosition),this.listenTo(this.resizable,"resizestop",this.updatePosition),this.resizable.listenTo(this,"movestart",function(){this.trigger("resizestart",this)}),this.resizable.listenTo(this,"movestop",function(){this.trigger("resizestop",this)})},setStyles:function(){var e,t=this.axis;t.length>1?e={zIndex:100,width:this.thickness,height:this.thickness}:"x"===t?e={zIndex:99,width:this.thickness,height:this.resizable.modeld.get("width")}:"y"===t&&(e={zIndex:99,width:this.resizable.modeld.get("height"),height:this.thickness}),this.$el.css(e)},map:i.extend(r.prototype.map,{height:"->css:height",width:"->css:width"})});l.proto(e("./enable-disable"))}),define("__backbone-ui-resizable/handle/index",["require","exports","module","./base"],function(e,t){function n(e,t){this.resizable.moveN(e,t);return 0}function r(e,t){var n=this.resizable.moveS(e,t);return e-n}function i(e,t){this.resizable.moveW(e,t);return 0}function a(e,t){var n=this.resizable.moveE(e,t);return e-n}var o=e("./base"),l={beforeMoveY:n},u={beforeMoveY:r},s={beforeMoveX:i},c={beforeMoveX:a};t.n=o.extend(l),t.s=o.extend(u),t.w=o.extend(s),t.e=o.extend(c),t.nw=o.extend(l).extend(s),t.ne=o.extend(l).extend(c),t.sw=o.extend(u).extend(s),t.se=o.extend(u).extend(c)}),define("__backbone-ui-resizable/helpers",["require","exports","module","lodash"],function(e,t){var n=e("lodash");t.min=function(e,t){return isNaN(e)?t:isNaN(t)?e:t>e?e:t},t.max=function(e,t){return isNaN(e)?t:isNaN(t)?e:e>t?e:t},t.numberify=function(e){var t=parseFloat(e);if(isNaN(t))throw new Error(e+" not number");return t},t.numberifyProperties=function(e,t){var r={};return n.each(e,function(e){r[e]=parseFloat(t[e])}),r},t.fitValueWithin=function(e,t,n){return isNaN(t)||(e=e>t?e:t),isNaN(n)||(e=n>e?e:n),e};var r=/^-?\d*(\.\d+)?$/;t.stringifyPositionalValue=function(e){return r.test(e)?e+"px":e}}),define("__backbone-ui-resizable/actions/e",["require","exports","module","lodash","no","../helpers"],function(e,t){var n=e("lodash"),r=e("no"),i=e("../helpers");t.deltaE=function(e,t){if(t)return e;var n=this.modeld,a=n.get("width"),o=n.get("minWidth"),l=n.get("maxWidth"),u=r(n.get("left")).add(a).value(),s=n.get("minRight"),c=n.get("maxRight"),f=i.max(r(o).subtract(a).value(),r(s).subtract(u).value()),h=i.min(r(l).subtract(a).value(),r(c).subtract(u).value());return i.fitValueWithin(e,f,h)},t.moveE=function(e,t){t=t||{};var i=this.modeld,a=this.deltaE(e,t.force);if(i.set("width",r(i.get("width")).add(a).value()),!t.silent&&0!==a){var o=n.assign({axis:"x",delta:-1*a,action:a>0?"expand":"contract",handle:"e"},t);this.trigger("resize",this,o).trigger("resize-x",this,o)}return e-a}}),define("__backbone-ui-resizable/actions/w",["require","exports","module","lodash","no","../helpers"],function(e,t){var n=e("lodash"),r=e("no"),i=e("../helpers");t.deltaW=function(e,t){if(t)return e;var n=this.modeld,a=n.get("width"),o=n.get("minWidth"),l=n.get("maxWidth"),u=n.get("left"),s=n.get("minLeft"),c=n.get("maxLeft"),f=i.max(r(a).subtract(l).value(),r(s).subtract(u).value()),h=i.min(r(a).subtract(o).value(),r(c).subtract(u).value());return i.fitValueWithin(e,f,h)},t.moveW=function(e,t){t=t||{};var i=this.modeld,a=this.deltaW(e,t.force);if(i.set({left:r(i.get("left")).add(a).value(),width:r(i.get("width")).subtract(a).value()}),!t.silent&&0!==a){var o=n.assign({axis:"x",delta:-1*a,action:a>0?"contract":"expand",handle:"w"},t);this.trigger("resize",this,o).trigger("resize-x",this,o)}return e-a}}),define("__backbone-ui-resizable/actions/s",["require","exports","module","lodash","no","../helpers"],function(e,t){var n=e("lodash"),r=e("no"),i=e("../helpers");t.deltaS=function(e,t){if(t)return e;var n=this.modeld,a=n.get("height"),o=n.get("minHeight"),l=n.get("maxHeight"),u=r(n.get("top")).add(a).value(),s=n.get("minBottom"),c=n.get("maxBottom"),f=i.max(r(o).subtract(a).value(),r(s).subtract(u).value()),h=i.min(r(l).subtract(a).value(),r(c).subtract(u).value());return i.fitValueWithin(e,f,h)},t.moveS=function(e,t){t=t||{};var i=this.modeld,a=this.deltaS(e,t.force);if(i.set("height",r(i.get("height")).add(a).value()),!t.silent&&0!==a){var o=n.assign({axis:"y",delta:a,action:a>0?"expand":"contract",handle:"s"},t);this.trigger("resize",this,o).trigger("resize-y",this,o)}return e-a}}),define("__backbone-ui-resizable/actions/n",["require","exports","module","lodash","no","../helpers"],function(e,t){var n=e("lodash"),r=e("no"),i=e("../helpers");t.deltaN=function(e,t){if(t)return e;var n=this.modeld,a=n.get("height"),o=n.get("minHeight"),l=n.get("maxHeight"),u=n.get("top"),s=n.get("minTop"),c=n.get("maxTop"),f=i.max(r(a).subtract(l).value(),r(s).subtract(u).value()),h=i.min(r(a).subtract(o).value(),r(c).subtract(u).value());return i.fitValueWithin(e,f,h)},t.moveN=function(e,t){t=t||{};var i=this.modeld,a=this.deltaN(e,t.force);if(i.set({top:i.get("top")+a,height:r(i.get("height")).subtract(a).value()}),!t.silent&&0!==a){var o=n.assign({axis:"x",delta:-1*a,action:a>0?"contract":"expand",handle:"n"},t);this.trigger("resize",this,o).trigger("resize-y",this,o)}return e-a}}),define("__backbone-ui-resizable/actions/index",["require","exports","module"],function(e,t){t.expandToLeft=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveW(-1*e,t))},t.expandToRight=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveE(e,t))},t.expandToTop=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveN(-1*e,t))},t.expandToBottom=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveS(e,t))},t.contractToRight=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveW(e,t))},t.contractToLeft=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveE(-1*e,t))},t.contractToBottom=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveN(e,t))},t.contractToTop=function(e,t){return t=t||{},t.agent=t.agent||"code",Math.abs(this.moveS(-1*e,t))}}),define("__backbone-ui-resizable/animations",["require","exports","module"],function(e,t){function n(e){return function(t,n){n=n||{},t=e.positionDeltaMultiplier*Math.abs(t);var r=this[e.delta](t,n.force),i=parseFloat(this.model.get(e.dimension)),a={};a[e.dimension]=i+e.dimensionDeltaMultiplier*Math.abs(r);var o=n.complete;n.complete=_.bind(function(){return this.trigger("resizestop",this),o?o.apply(this.$el,arguments):void 0},this);var l=n.step;return n.step=_.bind(function(t){var n=Math.abs(t-i);return this[e.move](e.positionDeltaMultiplier*n,{force:!0}),i=t,l?l.apply(this.$el,arguments):void 0},this),this.trigger("resizestart",this),this.$el.animate(a,n),t-r}}t.aExpandToW=n({delta:"deltaW",move:"moveW",dimension:"width",positionDeltaMultiplier:-1,dimensionDeltaMultiplier:1}),t.aContractToE=n({delta:"deltaW",move:"moveW",dimension:"width",positionDeltaMultiplier:1,dimensionDeltaMultiplier:-1}),t.aExpandToE=n({delta:"deltaE",move:"moveE",dimension:"width",positionDeltaMultiplier:1,dimensionDeltaMultiplier:1}),t.aContractToW=n({delta:"deltaE",move:"moveE",dimension:"width",positionDeltaMultiplier:-1,dimensionDeltaMultiplier:-1}),t.aExpandToN=n({delta:"deltaN",move:"moveN",dimension:"height",positionDeltaMultiplier:-1,dimensionDeltaMultiplier:1}),t.aContractToS=n({delta:"deltaN",move:"moveN",dimension:"height",positionDeltaMultiplier:1,dimensionDeltaMultiplier:-1}),t.aExpandToS=n({delta:"deltaS",move:"moveS",dimension:"height",positionDeltaMultiplier:1,dimensionDeltaMultiplier:1}),t.aContractToN=n({delta:"deltaS",move:"moveS",dimension:"height",positionDeltaMultiplier:-1,dimensionDeltaMultiplier:-1})}),define("__backbone-ui-resizable/enable-disable",["require","exports","module"],function(e,t){t._initializeResizableEnableDisable=function(){this.listenTo(this.modeld,"change:resizableStatus",function(){this.resizableEnabled()?(_.each(this.handles,function(e){e.enableHandle()},this),this.$el.removeClass(this.resizableClass+"-disabled").addClass(this.resizableClass+"-enabled")):(_.each(this.handles,function(e){e.disableHandle()},this),this.$el.removeClass(this.resizableClass+"-enabled").addClass(this.resizableClass+"-disabled"))})},t.resizableEnabled=function(){return"enabled"===this.modeld.get("resizableStatus")},t.disableResizable=function(){return this.modeld.set("resizableStatus","disabled"),this},t.enableResizable=function(){return this.modeld.set("resizableStatus","enabled"),this},t.disableHandle=function(e){var t=this.handles[e];return t&&t.disableHandle(),this},t.enableHandle=function(e,t){var n=this.handles[e];return n?n.enableHandle():this.handles[e]=this.buildHandle(e,t),this}}),define("__backbone-ui-resizable/build-handle",["require","exports","module","jquery","lodash"],function(e,t){var n=e("jquery"),r=e("lodash");t.buildHandle$El=function(e,t){var r=t.clss,i=n("<div></div>");return i.addClass(r).addClass(r+"-"+e),i.appendTo(this.$el)},t.buildHandle=function(e,t){t=t||{},r.defaults(t,this.handleOptions);var n=t.ratio,i=t.thickness,a=r.extend({},t,{el:this.buildHandle$El(e,t),resizable:this,direction:e,ratio:r.isObject(n)?n[e]:n,thickness:r.isObject(i)?i[e]:i}),o=this.handleBuilder[e](a);return o}}),define("backbone-ui-resizable",["require","exports","module","lowercase-backbone","backbone-ui-draggable","jquery","lodash","./__backbone-ui-resizable/handle/index","./__backbone-ui-resizable/handle/helpers","./__backbone-ui-resizable/actions/e","./__backbone-ui-resizable/actions/w","./__backbone-ui-resizable/actions/s","./__backbone-ui-resizable/actions/n","./__backbone-ui-resizable/actions/index","./__backbone-ui-resizable/animations","./__backbone-ui-resizable/enable-disable","./__backbone-ui-resizable/build-handle"],function(e,t,n){var r=e("lowercase-backbone"),i=e("backbone-ui-draggable"),a=e("jquery"),o=e("lodash"),l=e("./__backbone-ui-resizable/handle/index"),u=e("./__backbone-ui-resizable/handle/helpers"),s=n.exports=i.extend({initialize:function(e){r.view.prototype.initialize.call(this,e),this.initializeModelView(e),this.initializeUIDraggable(e),this.initializeUIResizable(e)},initializeUIResizable:function(e){this.$canvas=e.canvas||this.canvas||a(window),e.enableDraggable||this.disableDraggable();var t=o.extend({minWidth:2*this.handleOptions.thickness,minHeight:2*this.handleOptions.thickness,width:this.$el.width(),height:this.$el.height()},this.$el.position(),e);this.modeld.set(t),this.handleOptions=o.extend(this.handleOptions,o.pick(e,["clss","ratio","thickness"]));var n=e.handles||this.handles;n=o.isArray(n)?n:n.split(","),this.handles={},o.each(n,function(e){this.handles[e]=this.buildHandle(e,this.handleOptions)},this),this._initializeResizableEnableDisable()},handleBuilder:l,handles:"n,s,w,e,nw,ne,sw,se",handleOptions:{clss:"handle",ratio:.2,thickness:30},stringifiers:{height:u.stringifyPositionalValue,minHeight:u.stringifyPositionalValue,maxHeight:u.stringifyPositionalValue,width:u.stringifyPositionalValue,minWidth:u.stringifyPositionalValue,maxWidth:u.stringifyPositionalValue,left:u.stringifyPositionalValue,top:u.stringifyPositionalValue},map:{top:"->css:top",left:"->css:left",width:"->css:width",minWidth:"->css:min-width",maxWidth:"->css:max-width",height:"->css:height",minHeight:"->css:min-height",maxHeight:"->css:max-height"}});s.proto(e("./__backbone-ui-resizable/actions/e")).proto(e("./__backbone-ui-resizable/actions/w")).proto(e("./__backbone-ui-resizable/actions/s")).proto(e("./__backbone-ui-resizable/actions/n")).proto(e("./__backbone-ui-resizable/actions/index")),s.proto(e("./__backbone-ui-resizable/animations")),s.proto(e("./__backbone-ui-resizable/enable-disable")).proto(e("./__backbone-ui-resizable/build-handle"))});