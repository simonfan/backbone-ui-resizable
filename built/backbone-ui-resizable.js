//     backbone-ui-resizable
//     (c) simonfan
//     backbone-ui-resizable is licensed under the MIT terms.

define("__backbone-ui-resizable/movement-data",["require","exports","module","subject","lodash"],function(e,i,t){var s=e("subject"),a=(e("lodash"),{left:"right",right:"left",top:"bottom",bottom:"top"}),n=t.exports=s(function(e,i){this.current=e||{},this.previous=i||{}});n.proto({data:function(){var e=this.axis(),i=this.delta("x"===e?"width":"height"),t=this.action(e),s=this.handle(e),a=this.direction(s,t);return{axis:e,delta:i,action:t,handle:s,direction:a}},delta:function(e){var i=this.previous[e]||0,t=this.current[e]||0;return t-i},axis:function(){return 0!==this.delta("width")?"x":0!==this.delta("height")?"y":!1},action:function(e){e=e||this.axis();var i="x"===e?"width":"height",t=this.delta(i);return t>0?"expand":0>t?"contract":!1},handle:function(e){return e=e||this.axis(),"x"===e?0!==this.delta("left")?"left":"right":0!==this.delta("top")?"top":"bottom"},direction:function(e,i){return e=e||this.handle(),i=i||this.action(),"expand"===i?e:a[e]}})}),define("__backbone-ui-resizable/resize",["require","exports","module","lodash","./movement-data"],function(e,i,t){function s(e,i,t){var s=e;return a.isNumber(i)&&(s=s>i?s:i),a.isNumber(t)&&(s=t>s?s:t),s}var a=e("lodash"),n=e("./movement-data");t.exports=function(e){var i=this.model;if(a.isNumber(e.width)){var t=i.get("minWidth"),h=i.get("maxWidth");e.width=s(e.width,t,h)}if(a.isNumber(e.height)){var r=i.get("minHeight"),o=i.get("maxHeight");e.height=s(e.height,r,o)}i.set(e);var l=i.toJSON(),d=i.previousAttributes(),u=n(l,d);return this.trigger("resize",this,u),i.trigger("resize",i,u),this}}),define("__backbone-ui-resizable/handle-resize",["require","exports","module","./movement-data"],function(e,i,t){e("./movement-data");t.exports=function(e,i){var t={top:i.position.top,left:i.position.left,bottom:i.position.top+i.size.height,right:i.position.left+i.size.width,width:i.size.width,height:i.size.height};this.resize(t)}}),define("backbone-ui-resizable",["require","exports","module","jquery-ui-resizable","lowercase-backbone","model-dock","lodash","./__backbone-ui-resizable/resize","./__backbone-ui-resizable/handle-resize"],function(e,i,t){function s(e){return o.test(e)?e+"px":e}e("jquery-ui-resizable");{var a=e("lowercase-backbone"),n=e("model-dock"),h=e("lodash"),r=["alsoResize","animate","animateDuration","animateEasing","aspectRatio","autoHide","cancel","containment","delay","disabled","distance","ghost","grid","handles","helper","maxHeight","maxWidth","minHeight","minWidth"],o=/^[0-9]+$/;t.exports=n.extend({initialize:function(){a.view.prototype.initialize.apply(this,arguments),this.initializeModelDock.apply(this,arguments),this.initializeUIResizable.apply(this,arguments)},initializeUIResizable:function(e){h.bindAll(this,"handleElResize","handleElResizeStart","handleElResizeStop","rebuildResizableEl");var i=h.defaults(h.pick(e,r),this.resizableOptions);this.model.set(i),this.$el.resizable(this.model.toJSON()).on("resize",this.handleElResize).on("resizestart",this.handleElResizeStart).on("resizestop",this.handleElResizeStop),h.each(this.rebuildOnChange,function(e){this.listenTo(this.model,"change:"+e,this.rebuildResizableEl)},this)},rebuildResizableEl:function(){this.$el.resizable("destroy").resizable(this.model.attributes)},resize:e("./__backbone-ui-resizable/resize"),handleElResize:e("./__backbone-ui-resizable/handle-resize"),handleElResizeStart:function(){this.trigger("resizestart",this)},handleElResizeStop:function(){this.trigger("resizestop",this)},resizableOptions:{handles:"n,ne,e,se,s,sw,w,nw"},rebuildOnChange:["handles","maxHeight","maxWidth","minHeight","minWidth"],stringifiers:{height:s,minHeight:s,maxHeight:s,width:s,minWidth:s,maxWidth:s,left:s,top:s},map:{top:"->css:top",left:"->css:left",width:"->css:width",minWidth:"->css:min-width",maxWidth:"->css:max-width",height:"->css:height",minHeight:"->css:min-height",maxHeight:"->css:max-height"}})}});