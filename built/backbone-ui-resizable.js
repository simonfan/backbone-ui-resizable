/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>
 * Build: `lodash -o ./dist/lodash.compat.js`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */

//     subject
//     (c) simonfan
//     subject is licensed under the MIT terms.

//     No
//     (c) simonfan
//     No is licensed under the MIT terms.

//     backbone-ui-resizable
//     (c) simonfan
//     backbone-ui-resizable is licensed under the MIT terms.

define("__backbone-ui-resizable/build-handles",["require","exports","module","jquery","lodash"],function(t,e,n){function r(t,e){var n=e.clss,r=a("<div></div>");return r.addClass(n).addClass(n+"-"+t),r.insertAfter(this.$el)}function i(t,e){if(u.isArray(t)){var n=u.map(t,function(t){return r.call(this,t,e)},this);return u.zipObject(t,n)}return u.isObject(t)?u.mapValues(t,function(t,n){return t=u.isObject(t)?t:this.$el.find(t),0!==t.length?t:r.call(this,n,e)},this):u.isString(t)?(t=t.replace(" ",""),t=t.split(","),i.call(this,t,e)):void 0}function o(t,e){return u.mapValues(t,function(t,n){return this.handleBuilder(u.extend({},e,{el:t,direction:n,resizable:this,thickness:u.isNumber(e.thickness)?e.thickness:e.thickness[n],ratio:u.isNumber(e.ratio)?e.ratio:e.ratio[n],canvas:this.$canvas}))},this)}var a=t("jquery"),u=t("lodash");n.exports=function(t){var e=(t.directions,i.call(this,t.directions,t));this.handles=o.call(this,e,t)}}),define("__backbone-ui-resizable/handle/helpers",["require","exports","module"],function(t,e){e.min=function(t,e){return isNaN(t)?e:isNaN(e)?t:e>t?t:e},e.max=function(t,e){return isNaN(t)?e:isNaN(e)?t:t>e?t:e},e.numberify=function(t){var e=parseInt(t,10);if(isNaN(e))throw new Error(t+" not number");return e}}),function(){function t(t,e,n){for(var r=(n||0)-1,i=t?t.length:0;++r<i;)if(t[r]===e)return r;return-1}function e(e,n){var r=typeof n;if(e=e.cache,"boolean"==r||null==n)return e[n]?0:-1;"number"!=r&&"string"!=r&&(r="object");var i="number"==r?n:y+n;return e=(e=e[r])&&e[i],"object"==r?e&&t(e,n)>-1?0:-1:e?0:-1}function n(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:y+t,i=e[n]||(e[n]={});"object"==n?(i[r]||(i[r]=[])).push(t):i[r]=!0}}function r(t){return t.charCodeAt(0)}function i(t,e){for(var n=t.criteria,r=e.criteria,i=-1,o=n.length;++i<o;){var a=n[i],u=r[i];if(a!==u){if(a>u||"undefined"==typeof a)return 1;if(u>a||"undefined"==typeof u)return-1}}return t.index-e.index}function o(t){var e=-1,r=t.length,i=t[0],o=t[r/2|0],a=t[r-1];if(i&&"object"==typeof i&&o&&"object"==typeof o&&a&&"object"==typeof a)return!1;var u=l();u["false"]=u["null"]=u["true"]=u.undefined=!1;var s=l();for(s.array=t,s.cache=u,s.push=n;++e<r;)s.push(t[e]);return s}function a(t){return"\\"+Z[t]}function u(){return d.pop()||[]}function l(){return v.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function s(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function c(t){t.length=0,d.length<x&&d.push(t)}function f(t){var e=t.cache;e&&f(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,v.length<x&&v.push(t)}function h(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,i=n-e||0,o=Array(0>i?0:i);++r<i;)o[r]=t[e+r];return o}function p(n){function d(t){return t&&"object"==typeof t&&!fi(t)&&Fr.call(t,"__wrapped__")?t:new v(t)}function v(t,e){this.__chain__=!!e,this.__wrapped__=t}function x(t){function e(){if(r){var t=h(r);Ur.apply(t,arguments)}if(this instanceof e){var o=ee(n.prototype),a=n.apply(o,t||arguments);return Le(a)?a:o}return n.apply(i,t||arguments)}var n=t[0],r=t[2],i=t[4];return ci(e,t),e}function Z(t,e,n,r,i){if(n){var o=n(t);if("undefined"!=typeof o)return o}var a=Le(t);if(!a)return t;var l=Lr.call(t);if(!V[l]||!li.nodeClass&&s(t))return t;var f=ai[l];switch(l){case H:case W:return new f(+t);case F:case Y:return new f(t);case X:return o=f(t.source,P.exec(t)),o.lastIndex=t.lastIndex,o}var p=fi(t);if(e){var g=!r;r||(r=u()),i||(i=u());for(var d=r.length;d--;)if(r[d]==t)return i[d];o=p?f(t.length):{}}else o=p?h(t):wi({},t);return p&&(Fr.call(t,"index")&&(o.index=t.index),Fr.call(t,"input")&&(o.input=t.input)),e?(r.push(t),i.push(o),(p?xi:zi)(t,function(t,a){o[a]=Z(t,e,n,r,i)}),g&&(c(r),c(i)),o):o}function ee(t){return Le(t)?Jr(t):{}}function ne(t,e,n){if("function"!=typeof t)return or;if("undefined"==typeof e||!("prototype"in t))return t;var r=t.__bindData__;if("undefined"==typeof r&&(li.funcNames&&(r=!t.name),r=r||!li.funcDecomp,!r)){var i=Br.call(t);li.funcNames||(r=!T.test(i)),r||(r=I.test(i),ci(t,r))}if(r===!1||r!==!0&&1&r[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return Bn(t,e)}function re(t){function e(){var t=l?a:this;if(i){var g=h(i);Ur.apply(g,arguments)}if((o||c)&&(g||(g=h(arguments)),o&&Ur.apply(g,o),c&&g.length<u))return r|=16,re([n,f?r:-4&r,g,null,a,u]);if(g||(g=arguments),s&&(n=t[p]),this instanceof e){t=ee(n.prototype);var d=n.apply(t,g);return Le(d)?d:t}return n.apply(t,g)}var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],u=t[5],l=1&r,s=2&r,c=4&r,f=8&r,p=n;return ci(e,t),e}function ie(n,r){var i=-1,a=de(),u=n?n.length:0,l=u>=_&&a===t,s=[];if(l){var c=o(r);c?(a=e,r=c):l=!1}for(;++i<u;){var h=n[i];a(r,h)<0&&s.push(h)}return l&&f(r),s}function ae(t,e,n,r){for(var i=(r||0)-1,o=t?t.length:0,a=[];++i<o;){var u=t[i];if(u&&"object"==typeof u&&"number"==typeof u.length&&(fi(u)||ye(u))){e||(u=ae(u,e,n));var l=-1,s=u.length,c=a.length;for(a.length+=s;++l<s;)a[c++]=u[l]}else n||a.push(u)}return a}function ue(t,e,n,r,i,o){if(n){var a=n(t,e);if("undefined"!=typeof a)return!!a}if(t===e)return 0!==t||1/t==1/e;var l=typeof t,f=typeof e;if(!(t!==t||t&&Q[l]||e&&Q[f]))return!1;if(null==t||null==e)return t===e;var h=Lr.call(t),p=Lr.call(e);if(h==$&&(h=U),p==$&&(p=U),h!=p)return!1;switch(h){case H:case W:return+t==+e;case F:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case X:case Y:return t==Er(e)}var g=h==q;if(!g){var d=Fr.call(t,"__wrapped__"),v=Fr.call(e,"__wrapped__");if(d||v)return ue(d?t.__wrapped__:t,v?e.__wrapped__:e,n,r,i,o);if(h!=U||!li.nodeClass&&(s(t)||s(e)))return!1;var b=!li.argsObject&&ye(t)?Pr:t.constructor,m=!li.argsObject&&ye(e)?Pr:e.constructor;if(b!=m&&!(Re(b)&&b instanceof b&&Re(m)&&m instanceof m)&&"constructor"in t&&"constructor"in e)return!1}var y=!i;i||(i=u()),o||(o=u());for(var _=i.length;_--;)if(i[_]==t)return o[_]==e;var x=0;if(a=!0,i.push(t),o.push(e),g){if(_=t.length,x=e.length,a=x==_,a||r)for(;x--;){var w=_,k=e[x];if(r)for(;w--&&!(a=ue(t[w],k,n,r,i,o)););else if(!(a=ue(t[x],k,n,r,i,o)))break}}else ji(e,function(e,u,l){return Fr.call(l,u)?(x++,a=Fr.call(t,u)&&ue(t[u],e,n,r,i,o)):void 0}),a&&!r&&ji(t,function(t,e,n){return Fr.call(n,e)?a=--x>-1:void 0});return i.pop(),o.pop(),y&&(c(i),c(o)),a}function le(t,e,n,r,i){(fi(e)?rn:zi)(e,function(e,o){var a,u,l=e,s=t[o];if(e&&((u=fi(e))||Ci(e))){for(var c=r.length;c--;)if(a=r[c]==e){s=i[c];break}if(!a){var f;n&&(l=n(s,e),(f="undefined"!=typeof l)&&(s=l)),f||(s=u?fi(s)?s:[]:Ci(s)?s:{}),r.push(e),i.push(s),f||le(s,e,n,r,i)}}else n&&(l=n(s,e),"undefined"==typeof l&&(l=e)),"undefined"!=typeof l&&(s=l);t[o]=s})}function se(t,e){return t+Wr(oi()*(e-t+1))}function ce(n,r,i){var a=-1,l=de(),s=n?n.length:0,h=[],p=!r&&s>=_&&l===t,g=i||p?u():h;if(p){var d=o(g);l=e,g=d}for(;++a<s;){var v=n[a],b=i?i(v,a,n):v;(r?!a||g[g.length-1]!==b:l(g,b)<0)&&((i||p)&&g.push(b),h.push(v))}return p?(c(g.array),f(g)):i&&c(g),h}function fe(t){return function(e,n,r){var i={};if(n=d.createCallback(n,r,3),fi(e))for(var o=-1,a=e.length;++o<a;){var u=e[o];t(i,u,n(u,o,e),e)}else xi(e,function(e,r,o){t(i,e,n(e,r,o),o)});return i}}function he(t,e,n,r,i,o){var a=1&e,u=2&e,l=4&e,s=16&e,c=32&e;if(!u&&!Re(t))throw new Sr;s&&!n.length&&(e&=-17,s=n=!1),c&&!r.length&&(e&=-33,c=r=!1);var f=t&&t.__bindData__;if(f&&f!==!0)return f=h(f),f[2]&&(f[2]=h(f[2])),f[3]&&(f[3]=h(f[3])),!a||1&f[1]||(f[4]=i),!a&&1&f[1]&&(e|=8),!l||4&f[1]||(f[5]=o),s&&Ur.apply(f[2]||(f[2]=[]),n),c&&Kr.apply(f[3]||(f[3]=[]),r),f[1]|=e,he.apply(null,f);var p=1==e||17===e?x:re;return p([t,e,n,r,i,o])}function pe(){J.shadowedProps=R,J.array=J.bottom=J.loop=J.top="",J.init="iterable",J.useHas=!0;for(var t,e=0;t=arguments[e];e++)for(var n in t)J[n]=t[n];var r=J.args;J.firstArg=/^[^,]+/.exec(r)[0];var i=zr("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+r+") {\n"+si(J)+"\n}");return i(ne,B,Ir,Fr,m,ye,fi,Be,J.keys,Ar,Q,ui,Y,Mr,Lr)}function ge(t){return bi[t]}function de(){var e=(e=d.indexOf)===zn?t:e;return e}function ve(t){return"function"==typeof t&&$r.test(t)}function be(t){var e,n;return!t||Lr.call(t)!=U||(e=t.constructor,Re(e)&&!(e instanceof e))||!li.argsClass&&ye(t)||!li.nodeClass&&s(t)?!1:li.ownLast?(ji(t,function(t,e,r){return n=Fr.call(r,e),!1}),n!==!1):(ji(t,function(t,e){n=e}),"undefined"==typeof n||Fr.call(t,n))}function me(t){return mi[t]}function ye(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Lr.call(t)==$||!1}function _e(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n=e,e=!1),Z(t,e,"function"==typeof n&&ne(n,r,1))}function xe(t,e,n){return Z(t,!0,"function"==typeof e&&ne(e,n,1))}function we(t,e){var n=ee(t);return e?wi(n,e):n}function ke(t,e,n){var r;return e=d.createCallback(e,n,3),zi(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function je(t,e,n){var r;return e=d.createCallback(e,n,3),Ce(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function ze(t,e,n){var r=[];ji(t,function(t,e){r.push(e,t)});var i=r.length;for(e=ne(e,n,3);i--&&e(r[i--],r[i],t)!==!1;);return t}function Ce(t,e,n){var r=pi(t),i=r.length;for(e=ne(e,n,3);i--;){var o=r[i];if(e(t[o],o,t)===!1)break}return t}function Oe(t){var e=[];return ji(t,function(t,n){Re(t)&&e.push(n)}),e.sort()}function Pe(t,e){return t?Fr.call(t,e):!1}function Te(t){for(var e=-1,n=pi(t),r=n.length,i={};++e<r;){var o=n[e];i[t[o]]=o}return i}function Ee(t){return t===!0||t===!1||t&&"object"==typeof t&&Lr.call(t)==H||!1}function Se(t){return t&&"object"==typeof t&&Lr.call(t)==W||!1}function Ne(t){return t&&1===t.nodeType||!1}function Ie(t){var e=!0;if(!t)return e;var n=Lr.call(t),r=t.length;return n==q||n==Y||(li.argsClass?n==$:ye(t))||n==U&&"number"==typeof r&&Re(t.splice)?!r:(zi(t,function(){return e=!1}),e)}function Ae(t,e,n,r){return ue(t,e,"function"==typeof n&&ne(n,r,2))}function Me(t){return Zr(t)&&!ti(parseFloat(t))}function Re(t){return"function"==typeof t}function Le(t){return!(!t||!Q[typeof t])}function $e(t){return He(t)&&t!=+t}function qe(t){return null===t}function He(t){return"number"==typeof t||t&&"object"==typeof t&&Lr.call(t)==F||!1}function We(t){return t&&Q[typeof t]&&Lr.call(t)==X||!1}function Be(t){return"string"==typeof t||t&&"object"==typeof t&&Lr.call(t)==Y||!1}function De(t){return"undefined"==typeof t}function Fe(t,e,n){var r={};return e=d.createCallback(e,n,3),zi(t,function(t,n,i){r[n]=e(t,n,i)}),r}function Ue(t){var e=arguments,n=2;if(!Le(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var r=ne(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(r=e[--n]);for(var i=h(arguments,1,n),o=-1,a=u(),l=u();++o<n;)le(t,i[o],r,a,l);return c(a),c(l),t}function Xe(t,e,n){var r={};if("function"!=typeof e){var i=[];ji(t,function(t,e){i.push(e)}),i=ie(i,ae(arguments,!0,!1,1));for(var o=-1,a=i.length;++o<a;){var u=i[o];r[u]=t[u]}}else e=d.createCallback(e,n,3),ji(t,function(t,n,i){e(t,n,i)||(r[n]=t)});return r}function Ye(t){for(var e=-1,n=pi(t),r=n.length,i=xr(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function Ve(t,e,n){var r={};if("function"!=typeof e)for(var i=-1,o=ae(arguments,!0,!1,1),a=Le(t)?o.length:0;++i<a;){var u=o[i];u in t&&(r[u]=t[u])}else e=d.createCallback(e,n,3),ji(t,function(t,n,i){e(t,n,i)&&(r[n]=t)});return r}function Ke(t,e,n,r){var i=fi(t);if(null==n)if(i)n=[];else{var o=t&&t.constructor,a=o&&o.prototype;n=ee(a)}return e&&(e=d.createCallback(e,r,4),(i?xi:zi)(t,function(t,r,i){return e(n,t,r,i)})),n}function Ge(t){for(var e=-1,n=pi(t),r=n.length,i=xr(r);++e<r;)i[e]=t[n[e]];return i}function Je(t){var e=arguments,n=-1,r=ae(e,!0,!1,1),i=e[2]&&e[2][e[1]]===t?1:r.length,o=xr(i);for(li.unindexedChars&&Be(t)&&(t=t.split(""));++n<i;)o[n]=t[r[n]];return o}function Qe(t,e,n){var r=-1,i=de(),o=t?t.length:0,a=!1;return n=(0>n?ni(0,o+n):n)||0,fi(t)?a=i(t,e,n)>-1:"number"==typeof o?a=(Be(t)?t.indexOf(e,n):i(t,e,n))>-1:xi(t,function(t){return++r>=n?!(a=t===e):void 0}),a}function Ze(t,e,n){var r=!0;if(e=d.createCallback(e,n,3),fi(t))for(var i=-1,o=t.length;++i<o&&(r=!!e(t[i],i,t)););else xi(t,function(t,n,i){return r=!!e(t,n,i)});return r}function tn(t,e,n){var r=[];if(e=d.createCallback(e,n,3),fi(t))for(var i=-1,o=t.length;++i<o;){var a=t[i];e(a,i,t)&&r.push(a)}else xi(t,function(t,n,i){e(t,n,i)&&r.push(t)});return r}function en(t,e,n){if(e=d.createCallback(e,n,3),!fi(t)){var r;return xi(t,function(t,n,i){return e(t,n,i)?(r=t,!1):void 0}),r}for(var i=-1,o=t.length;++i<o;){var a=t[i];if(e(a,i,t))return a}}function nn(t,e,n){var r;return e=d.createCallback(e,n,3),on(t,function(t,n,i){return e(t,n,i)?(r=t,!1):void 0}),r}function rn(t,e,n){if(e&&"undefined"==typeof n&&fi(t))for(var r=-1,i=t.length;++r<i&&e(t[r],r,t)!==!1;);else xi(t,e,n);return t}function on(t,e,n){var r=t,i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:ne(e,n,3),fi(t))for(;i--&&e(t[i],i,t)!==!1;);else{if("number"!=typeof i){var o=pi(t);i=o.length}else li.unindexedChars&&Be(t)&&(r=t.split(""));xi(t,function(t,n,a){return n=o?o[--i]:--i,e(r[n],n,a)})}return t}function an(t,e){var n=h(arguments,2),r=-1,i="function"==typeof e,o=t?t.length:0,a=xr("number"==typeof o?o:0);return rn(t,function(t){a[++r]=(i?e:t[e]).apply(t,n)}),a}function un(t,e,n){var r=-1,i=t?t.length:0,o=xr("number"==typeof i?i:0);if(e=d.createCallback(e,n,3),fi(t))for(;++r<i;)o[r]=e(t[r],r,t);else xi(t,function(t,n,i){o[++r]=e(t,n,i)});return o}function ln(t,e,n){var i=-1/0,o=i;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&fi(t))for(var a=-1,u=t.length;++a<u;){var l=t[a];l>o&&(o=l)}else e=null==e&&Be(t)?r:d.createCallback(e,n,3),xi(t,function(t,n,r){var a=e(t,n,r);a>i&&(i=a,o=t)});return o}function sn(t,e,n){var i=1/0,o=i;if("function"!=typeof e&&n&&n[e]===t&&(e=null),null==e&&fi(t))for(var a=-1,u=t.length;++a<u;){var l=t[a];o>l&&(o=l)}else e=null==e&&Be(t)?r:d.createCallback(e,n,3),xi(t,function(t,n,r){var a=e(t,n,r);i>a&&(i=a,o=t)});return o}function cn(t,e,n,r){var i=arguments.length<3;if(e=d.createCallback(e,r,4),fi(t)){var o=-1,a=t.length;for(i&&(n=t[++o]);++o<a;)n=e(n,t[o],o,t)}else xi(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)});return n}function fn(t,e,n,r){var i=arguments.length<3;return e=d.createCallback(e,r,4),on(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function hn(t,e,n){return e=d.createCallback(e,n,3),tn(t,function(t,n,r){return!e(t,n,r)})}function pn(t,e,n){if(t&&"number"!=typeof t.length?t=Ge(t):li.unindexedChars&&Be(t)&&(t=t.split("")),null==e||n)return t?t[se(0,t.length-1)]:g;var r=gn(t);return r.length=ri(ni(0,e),r.length),r}function gn(t){var e=-1,n=t?t.length:0,r=xr("number"==typeof n?n:0);return rn(t,function(t){var n=se(0,++e);r[e]=r[n],r[n]=t}),r}function dn(t){var e=t?t.length:0;return"number"==typeof e?e:pi(t).length}function vn(t,e,n){var r;if(e=d.createCallback(e,n,3),fi(t))for(var i=-1,o=t.length;++i<o&&!(r=e(t[i],i,t)););else xi(t,function(t,n,i){return!(r=e(t,n,i))});return!!r}function bn(t,e,n){var r=-1,o=fi(e),a=t?t.length:0,s=xr("number"==typeof a?a:0);for(o||(e=d.createCallback(e,n,3)),rn(t,function(t,n,i){var a=s[++r]=l();o?a.criteria=un(e,function(e){return t[e]}):(a.criteria=u())[0]=e(t,n,i),a.index=r,a.value=t}),a=s.length,s.sort(i);a--;){var h=s[a];s[a]=h.value,o||c(h.criteria),f(h)}return s}function mn(t){return t&&"number"==typeof t.length?li.unindexedChars&&Be(t)?t.split(""):h(t):Ge(t)}function yn(t){for(var e=-1,n=t?t.length:0,r=[];++e<n;){var i=t[e];i&&r.push(i)}return r}function _n(t){return ie(t,ae(arguments,!0,!0,1))}function xn(t,e,n){var r=-1,i=t?t.length:0;for(e=d.createCallback(e,n,3);++r<i;)if(e(t[r],r,t))return r;return-1}function wn(t,e,n){var r=t?t.length:0;for(e=d.createCallback(e,n,3);r--;)if(e(t[r],r,t))return r;return-1}function kn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=d.createCallback(e,n,3);++o<i&&e(t[o],o,t);)r++}else if(r=e,null==r||n)return t?t[0]:g;return h(t,0,ri(ni(0,r),i))}function jn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(t=un(t,n,r)),ae(t,e)}function zn(e,n,r){if("number"==typeof r){var i=e?e.length:0;r=0>r?ni(0,i+r):r||0}else if(r){var o=An(e,n);return e[o]===n?o:-1}return t(e,n,r)}function Cn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=i;for(e=d.createCallback(e,n,3);o--&&e(t[o],o,t);)r++}else r=null==e||n?1:e||r;return h(t,0,ri(ni(0,i-r),i))}function On(){for(var n=[],r=-1,i=arguments.length,a=u(),l=de(),s=l===t,h=u();++r<i;){var p=arguments[r];(fi(p)||ye(p))&&(n.push(p),a.push(s&&p.length>=_&&o(r?n[r]:h)))}var g=n[0],d=-1,v=g?g.length:0,b=[];t:for(;++d<v;){var m=a[0];if(p=g[d],(m?e(m,p):l(h,p))<0){for(r=i,(m||h).push(p);--r;)if(m=a[r],(m?e(m,p):l(n[r],p))<0)continue t;b.push(p)}}for(;i--;)m=a[i],m&&f(m);return c(a),c(h),b}function Pn(t,e,n){var r=0,i=t?t.length:0;if("number"!=typeof e&&null!=e){var o=i;for(e=d.createCallback(e,n,3);o--&&e(t[o],o,t);)r++}else if(r=e,null==r||n)return t?t[i-1]:g;return h(t,ni(0,i-r))}function Tn(t,e,n){var r=t?t.length:0;for("number"==typeof n&&(r=(0>n?ni(0,r+n):ri(n,r-1))+1);r--;)if(t[r]===e)return r;return-1}function En(t){for(var e=arguments,n=0,r=e.length,i=t?t.length:0;++n<r;)for(var o=-1,a=e[n];++o<i;)t[o]===a&&(Vr.call(t,o--,1),i--);return t}function Sn(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var r=-1,i=ni(0,qr((e-t)/(n||1))),o=xr(i);++r<i;)o[r]=t,t+=n;return o}function Nn(t,e,n){var r=-1,i=t?t.length:0,o=[];for(e=d.createCallback(e,n,3);++r<i;){var a=t[r];e(a,r,t)&&(o.push(a),Vr.call(t,r--,1),i--)}return o}function In(t,e,n){if("number"!=typeof e&&null!=e){var r=0,i=-1,o=t?t.length:0;for(e=d.createCallback(e,n,3);++i<o&&e(t[i],i,t);)r++}else r=null==e||n?1:ni(0,e);return h(t,r)}function An(t,e,n,r){var i=0,o=t?t.length:i;for(n=n?d.createCallback(n,r,1):or,e=n(e);o>i;){var a=i+o>>>1;n(t[a])<e?i=a+1:o=a}return i}function Mn(){return ce(ae(arguments,!0,!0))}function Rn(t,e,n,r){return"boolean"!=typeof e&&null!=e&&(r=n,n="function"!=typeof e&&r&&r[e]===t?null:e,e=!1),null!=n&&(n=d.createCallback(n,r,3)),ce(t,e,n)}function Ln(t){return ie(t,h(arguments,1))}function $n(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(fi(n)||ye(n))var r=r?ce(ie(r,n).concat(ie(n,r))):n}return r||[]}function qn(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?ln(Ei(t,"length")):0,r=xr(0>n?0:n);++e<n;)r[e]=Ei(t,e);return r}function Hn(t,e){var n=-1,r=t?t.length:0,i={};for(e||!r||fi(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Wn(t,e){if(!Re(e))throw new Sr;return function(){return--t<1?e.apply(this,arguments):void 0}}function Bn(t,e){return arguments.length>2?he(t,17,h(arguments,2),null,e):he(t,1,null,null,e)}function Dn(t){for(var e=arguments.length>1?ae(arguments,!0,!1,1):Oe(t),n=-1,r=e.length;++n<r;){var i=e[n];t[i]=he(t[i],1,null,null,t)}return t}function Fn(t,e){return arguments.length>2?he(e,19,h(arguments,2),null,t):he(e,3,null,null,t)}function Un(){for(var t=arguments,e=t.length;e--;)if(!Re(t[e]))throw new Sr;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function Xn(t,e){return e="number"==typeof e?e:+e||t.length,he(t,4,null,null,null,e)}function Yn(t,e,n){var r,i,o,a,u,l,s,c=0,f=!1,h=!0;if(!Re(t))throw new Sr;if(e=ni(0,e)||0,n===!0){var p=!0;h=!1}else Le(n)&&(p=n.leading,f="maxWait"in n&&(ni(e,n.maxWait)||0),h="trailing"in n?n.trailing:h);var d=function(){var n=e-(Ni()-a);if(0>=n){i&&Hr(i);var f=s;i=l=s=g,f&&(c=Ni(),o=t.apply(u,r),l||i||(r=u=null))}else l=Yr(d,n)},v=function(){l&&Hr(l),i=l=s=g,(h||f!==e)&&(c=Ni(),o=t.apply(u,r),l||i||(r=u=null))};return function(){if(r=arguments,a=Ni(),u=this,s=h&&(l||!p),f===!1)var n=p&&!l;else{i||p||(c=a);var g=f-(a-c),b=0>=g;b?(i&&(i=Hr(i)),c=a,o=t.apply(u,r)):i||(i=Yr(v,g))}return b&&l?l=Hr(l):l||e===f||(l=Yr(d,e)),n&&(b=!0,o=t.apply(u,r)),!b||l||i||(r=u=null),o}}function Vn(t){if(!Re(t))throw new Sr;var e=h(arguments,1);return Yr(function(){t.apply(g,e)},1)}function Kn(t,e){if(!Re(t))throw new Sr;var n=h(arguments,2);return Yr(function(){t.apply(g,n)},e)}function Gn(t,e){if(!Re(t))throw new Sr;var n=function(){var r=n.cache,i=e?e.apply(this,arguments):y+arguments[0];return Fr.call(r,i)?r[i]:r[i]=t.apply(this,arguments)};return n.cache={},n}function Jn(t){var e,n;if(!Re(t))throw new Sr;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function Qn(t){return he(t,16,h(arguments,1))}function Zn(t){return he(t,32,null,h(arguments,1))}function tr(t,e,n){var r=!0,i=!0;if(!Re(t))throw new Sr;return n===!1?r=!1:Le(n)&&(r="leading"in n?n.leading:r,i="trailing"in n?n.trailing:i),K.leading=r,K.maxWait=e,K.trailing=i,Yn(t,e,K)}function er(t,e){return he(e,16,[t])}function nr(t){return function(){return t}}function rr(t,e,n){var r=typeof t;if(null==t||"function"==r)return ne(t,e,n);if("object"!=r)return sr(t);var i=pi(t),o=i[0],a=t[o];return 1!=i.length||a!==a||Le(a)?function(e){for(var n=i.length,r=!1;n--&&(r=ue(e[i[n]],t[i[n]],null,!0)););return r}:function(t){var e=t[o];return a===e&&(0!==a||1/a==1/e)}}function ir(t){return null==t?"":Er(t).replace(_i,ge)}function or(t){return t}function ar(t,e,n){var r=!0,i=e&&Oe(e);e&&(n||i.length)||(null==n&&(n=e),o=v,e=t,t=d,i=Oe(e)),n===!1?r=!1:Le(n)&&"chain"in n&&(r=n.chain);var o=t,a=Re(o);rn(i,function(n){var i=t[n]=e[n];a&&(o.prototype[n]=function(){var e=this.__chain__,n=this.__wrapped__,a=[n];Ur.apply(a,arguments);var u=i.apply(t,a);if(r||e){if(n===u&&Le(u))return this;u=new o(u),u.__chain__=e}return u})})}function ur(){return n._=Rr,this}function lr(){}function sr(t){return function(e){return e[t]}}function cr(t,e,n){var r=null==t,i=null==e;if(null==n&&("boolean"==typeof t&&i?(n=t,t=1):i||"boolean"!=typeof e||(n=e,i=!0)),r&&i&&(e=1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=oi();return ri(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return se(t,e)}function fr(t,e){if(t){var n=t[e];return Re(n)?t[e]():n}}function hr(t,e,n){var r=d.templateSettings;t=Er(t||""),n=ki({},n,r);var i,o=ki({},n.imports,r.imports),u=pi(o),l=Ge(o),s=0,c=n.interpolate||N,f="__p += '",h=Tr((n.escape||N).source+"|"+c.source+"|"+(c===E?O:N).source+"|"+(n.evaluate||N).source+"|$","g");t.replace(h,function(e,n,r,o,u,l){return r||(r=o),f+=t.slice(s,l).replace(A,a),n&&(f+="' +\n__e("+n+") +\n'"),u&&(i=!0,f+="';\n"+u+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=l+e.length,e}),f+="';\n";var p=n.variable,v=p;v||(p="obj",f="with ("+p+") {\n"+f+"\n}\n"),f=(i?f.replace(j,""):f).replace(z,"$1").replace(C,"$1;"),f="function("+p+") {\n"+(v?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var b="\n/*\n//# sourceURL="+(n.sourceURL||"/lodash/template/source["+L++ +"]")+"\n*/";try{var m=zr(u,"return "+f+b).apply(g,l)}catch(y){throw y.source=f,y}return e?m(e):(m.source=f,m)}function pr(t,e,n){t=(t=+t)>-1?t:0;var r=-1,i=xr(t);for(e=ne(e,n,1);++r<t;)i[r]=e(r);return i}function gr(t){return null==t?"":Er(t).replace(yi,me)}function dr(t){var e=++b;return Er(null==t?"":t)+e}function vr(t){return t=new v(t),t.__chain__=!0,t}function br(t,e){return e(t),t}function mr(){return this.__chain__=!0,this}function yr(){return Er(this.__wrapped__)}function _r(){return this.__wrapped__}n=n?oe.defaults(te.Object(),n,oe.pick(te,M)):te;var xr=n.Array,wr=n.Boolean,kr=n.Date,jr=n.Error,zr=n.Function,Cr=n.Math,Or=n.Number,Pr=n.Object,Tr=n.RegExp,Er=n.String,Sr=n.TypeError,Nr=[],Ir=jr.prototype,Ar=Pr.prototype,Mr=Er.prototype,Rr=n._,Lr=Ar.toString,$r=Tr("^"+Er(Lr).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),qr=Cr.ceil,Hr=n.clearTimeout,Wr=Cr.floor,Br=zr.prototype.toString,Dr=ve(Dr=Pr.getPrototypeOf)&&Dr,Fr=Ar.hasOwnProperty,Ur=Nr.push,Xr=Ar.propertyIsEnumerable,Yr=n.setTimeout,Vr=Nr.splice,Kr=Nr.unshift,Gr=function(){try{var t={},e=ve(e=Pr.defineProperty)&&e,n=e(t,t,t)&&e}catch(r){}return n}(),Jr=ve(Jr=Pr.create)&&Jr,Qr=ve(Qr=xr.isArray)&&Qr,Zr=n.isFinite,ti=n.isNaN,ei=ve(ei=Pr.keys)&&ei,ni=Cr.max,ri=Cr.min,ii=n.parseInt,oi=Cr.random,ai={};ai[q]=xr,ai[H]=wr,ai[W]=kr,ai[D]=zr,ai[U]=Pr,ai[F]=Or,ai[X]=Tr,ai[Y]=Er;var ui={};ui[q]=ui[W]=ui[F]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ui[H]=ui[Y]={constructor:!0,toString:!0,valueOf:!0},ui[B]=ui[D]=ui[X]={constructor:!0,toString:!0},ui[U]={constructor:!0},function(){for(var t=R.length;t--;){var e=R[t];for(var n in ui)Fr.call(ui,n)&&!Fr.call(ui[n],e)&&(ui[n][e]=!1)}}(),v.prototype=d.prototype;var li=d.support={};!function(){var t=function(){this.x=1},e={0:1,length:1},r=[];t.prototype={valueOf:1,y:1};for(var i in new t)r.push(i);for(i in arguments);li.argsClass=Lr.call(arguments)==$,li.argsObject=arguments.constructor==Pr&&!(arguments instanceof xr),li.enumErrorProps=Xr.call(Ir,"message")||Xr.call(Ir,"name"),li.enumPrototypes=Xr.call(t,"prototype"),li.funcDecomp=!ve(n.WinRTError)&&I.test(p),li.funcNames="string"==typeof zr.name,li.nonEnumArgs=0!=i,li.nonEnumShadows=!/valueOf/.test(r),li.ownLast="x"!=r[0],li.spliceObjects=(Nr.splice.call(e,0,1),!e[0]),li.unindexedChars="x"[0]+Pr("x")[0]!="xx";try{li.nodeClass=!(Lr.call(document)==U&&!({toString:0}+""))}catch(o){li.nodeClass=!0}}(1),d.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:d}};var si=function(t){var e="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(e+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",li.unindexedChars&&(e+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),e+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):li.nonEnumArgs&&(e+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),li.enumPrototypes&&(e+="\n  var skipProto = typeof iterable == 'function';\n  "),li.enumErrorProps&&(e+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(li.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),li.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)e+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }  ";else if(e+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(e+="    if ("+n.join(" && ")+") {\n  "),e+=t.loop+";    ",n.length&&(e+="\n    }"),e+="\n  }    ",li.nonEnumShadows){for(e+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)e+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(e+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),e+=") {\n      "+t.loop+";\n    }      ";e+="\n  }    "}return(t.array||li.nonEnumArgs)&&(e+="\n}"),e+=t.bottom+";\nreturn result"};Jr||(ee=function(){function t(){}return function(e){if(Le(e)){t.prototype=e;var r=new t;t.prototype=null}return r||n.Object()}}());var ci=Gr?function(t,e){G.value=e,Gr(t,"__bindData__",G)}:lr;li.argsClass||(ye=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Fr.call(t,"callee")&&!Xr.call(t,"callee")||!1});var fi=Qr||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Lr.call(t)==q||!1},hi=pe({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),pi=ei?function(t){return Le(t)?li.enumPrototypes&&"function"==typeof t||li.nonEnumArgs&&t.length&&ye(t)?hi(t):ei(t):[]}:hi,gi={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:pi,loop:"if (callback(iterable[index], index, collection) === false) return result"},di={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:pi,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},vi={top:"if (!objectTypes[typeof iterable]) return result;\n"+gi.top,array:!1},bi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mi=Te(bi),yi=Tr("("+pi(mi).join("|")+")","g"),_i=Tr("["+pi(bi).join("")+"]","g"),xi=pe(gi),wi=pe(di,{top:di.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),ki=pe(di),ji=pe(gi,vi,{useHas:!1}),zi=pe(gi,vi);Re(/x/)&&(Re=function(t){return"function"==typeof t&&Lr.call(t)==D});var Ci=Dr?function(t){if(!t||Lr.call(t)!=U||!li.argsClass&&ye(t))return!1;var e=t.valueOf,n=ve(e)&&(n=Dr(e))&&Dr(n);return n?t==n||Dr(t)==n:be(t)}:be,Oi=fe(function(t,e,n){Fr.call(t,n)?t[n]++:t[n]=1}),Pi=fe(function(t,e,n){(Fr.call(t,n)?t[n]:t[n]=[]).push(e)}),Ti=fe(function(t,e,n){t[n]=e}),Ei=un,Si=tn,Ni=ve(Ni=kr.now)&&Ni||function(){return(new kr).getTime()},Ii=8==ii(w+"08")?ii:function(t,e){return ii(Be(t)?t.replace(S,""):t,e||0)};return d.after=Wn,d.assign=wi,d.at=Je,d.bind=Bn,d.bindAll=Dn,d.bindKey=Fn,d.chain=vr,d.compact=yn,d.compose=Un,d.constant=nr,d.countBy=Oi,d.create=we,d.createCallback=rr,d.curry=Xn,d.debounce=Yn,d.defaults=ki,d.defer=Vn,d.delay=Kn,d.difference=_n,d.filter=tn,d.flatten=jn,d.forEach=rn,d.forEachRight=on,d.forIn=ji,d.forInRight=ze,d.forOwn=zi,d.forOwnRight=Ce,d.functions=Oe,d.groupBy=Pi,d.indexBy=Ti,d.initial=Cn,d.intersection=On,d.invert=Te,d.invoke=an,d.keys=pi,d.map=un,d.mapValues=Fe,d.max=ln,d.memoize=Gn,d.merge=Ue,d.min=sn,d.omit=Xe,d.once=Jn,d.pairs=Ye,d.partial=Qn,d.partialRight=Zn,d.pick=Ve,d.pluck=Ei,d.property=sr,d.pull=En,d.range=Sn,d.reject=hn,d.remove=Nn,d.rest=In,d.shuffle=gn,d.sortBy=bn,d.tap=br,d.throttle=tr,d.times=pr,d.toArray=mn,d.transform=Ke,d.union=Mn,d.uniq=Rn,d.values=Ge,d.where=Si,d.without=Ln,d.wrap=er,d.xor=$n,d.zip=qn,d.zipObject=Hn,d.collect=un,d.drop=In,d.each=rn,d.eachRight=on,d.extend=wi,d.methods=Oe,d.object=Hn,d.select=tn,d.tail=In,d.unique=Rn,d.unzip=qn,ar(d),d.clone=_e,d.cloneDeep=xe,d.contains=Qe,d.escape=ir,d.every=Ze,d.find=en,d.findIndex=xn,d.findKey=ke,d.findLast=nn,d.findLastIndex=wn,d.findLastKey=je,d.has=Pe,d.identity=or,d.indexOf=zn,d.isArguments=ye,d.isArray=fi,d.isBoolean=Ee,d.isDate=Se,d.isElement=Ne,d.isEmpty=Ie,d.isEqual=Ae,d.isFinite=Me,d.isFunction=Re,d.isNaN=$e,d.isNull=qe,d.isNumber=He,d.isObject=Le,d.isPlainObject=Ci,d.isRegExp=We,d.isString=Be,d.isUndefined=De,d.lastIndexOf=Tn,d.mixin=ar,d.noConflict=ur,d.noop=lr,d.now=Ni,d.parseInt=Ii,d.random=cr,d.reduce=cn,d.reduceRight=fn,d.result=fr,d.runInContext=p,d.size=dn,d.some=vn,d.sortedIndex=An,d.template=hr,d.unescape=gr,d.uniqueId=dr,d.all=Ze,d.any=vn,d.detect=en,d.findWhere=en,d.foldl=cn,d.foldr=fn,d.include=Qe,d.inject=cn,ar(function(){var t={};
return zi(d,function(e,n){d.prototype[n]||(t[n]=e)}),t}(),!1),d.first=kn,d.last=Pn,d.sample=pn,d.take=kn,d.head=kn,zi(d,function(t,e){var n="sample"!==e;d.prototype[e]||(d.prototype[e]=function(e,r){var i=this.__chain__,o=t(this.__wrapped__,e,r);return i||null!=e&&(!r||n&&"function"==typeof e)?new v(o,i):o})}),d.VERSION="2.4.1",d.prototype.chain=mr,d.prototype.toString=yr,d.prototype.value=_r,d.prototype.valueOf=_r,xi(["join","pop","shift"],function(t){var e=Nr[t];d.prototype[t]=function(){var t=this.__chain__,n=e.apply(this.__wrapped__,arguments);return t?new v(n,t):n}}),xi(["push","reverse","sort","unshift"],function(t){var e=Nr[t];d.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),xi(["concat","slice","splice"],function(t){var e=Nr[t];d.prototype[t]=function(){return new v(e.apply(this.__wrapped__,arguments),this.__chain__)}}),li.spliceObjects||xi(["pop","shift","splice"],function(t){var e=Nr[t],n="splice"==t;d.prototype[t]=function(){var t=this.__chain__,r=this.__wrapped__,i=e.apply(r,arguments);return 0===r.length&&delete r[0],t||n?new v(i,t):i}}),d}var g,d=[],v=[],b=0,m={},y=+new Date+"",_=75,x=40,w=" 	\f \n\r\u2028\u2029 ᠎             　",j=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,C=/(__e\(.*?\)|\b__t\)) \+\n'';/g,O=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,P=/\w*$/,T=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,S=RegExp("^["+w+"]*0+(?=.$)"),N=/($^)/,I=/\bthis\b/,A=/['\n\r\t\u2028\u2029\\]/g,M=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],R=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],L=0,$="[object Arguments]",q="[object Array]",H="[object Boolean]",W="[object Date]",B="[object Error]",D="[object Function]",F="[object Number]",U="[object Object]",X="[object RegExp]",Y="[object String]",V={};V[D]=!1,V[$]=V[q]=V[H]=V[W]=V[F]=V[U]=V[X]=V[Y]=!0;var K={leading:!1,maxWait:0,trailing:!1},G={configurable:!1,enumerable:!1,value:null,writable:!1},J={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},Q={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Z={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},te=Q[typeof window]&&window||this,ee=Q[typeof exports]&&exports&&!exports.nodeType&&exports,ne=Q[typeof module]&&module&&!module.nodeType&&module,re=ne&&ne.exports===ee&&ee,ie=Q[typeof global]&&global;!ie||ie.global!==ie&&ie.window!==ie||(te=ie);var oe=p();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(te._=oe,define("lodash",[],function(){return oe})):ee&&ne?re?(ne.exports=oe)._=oe:ee._=oe:te._=oe}.call(this),define("subject",["lodash"],function(t){var e={initialize:function(){}},n=function(){};return n.prototype=e,n.proto=function(e,n){return t.isObject(e)?t.assign(this.prototype,e):this.prototype[e]=n,this},n.protoMerge=function(e,n){if(t.isString(e)){var r=this.prototype[e],i=t.assign({},r,n);this.proto(e,i)}else t.each(e,t.bind(function(t,e){this.protoMerge(e,t)},this))},n.extend=function(e,n,r){var i,o;t.isFunction(e)?(i=t.assign({},n,{initialize:e}),o=r):t.isObject(e)&&(i=e||{},o=r);var a,u=this;return a=function(){var t=Object.create(a.prototype);return t.initialize.apply(t,arguments),t},t.assign(a,u,o),a.prototype=Object.create(u.prototype),a.prototype.constructor=a,a.proto(i),a.__super__=u.prototype,a},n.extend.bind(n)}),define("no",["require","exports","module","subject"],function(t,e,n){function r(t){return!isNaN(t)}var i=t("subject"),o=n.exports=i({initialize:function(t){this.number=this.evaluate(t)},validate:function(t){return"number"==typeof t&&r(t)},coerce:function(t){return parseInt(t,10)},evaluate:function(t){if(this.validate(t))return t;var e=this.coerce(t);if(this.validate(e))return e;throw new Error(t+" is not valid and cannot be validly coerced.")},add:function(t){return t=this.evaluate(t),this.number=this.number+t,this},subtract:function(t){return t=this.evaluate(t),this.number=this.number-t,this},multiply:function(t){return t=this.evaluate(t),this.number=this.number*t,this},divide:function(t){return t=this.evaluate(t),this.number=this.number/t,this},value:function(){return this.number}});return o}),define("__backbone-ui-resizable/handle/update",["require","exports","module","./helpers","no"],function(t,e){function n(t){var e=l(this.resizable.model.get("top")).add(t);this.model.set("top",e.value())}function r(t){var e=l(this.resizable.model.get("top"));e.add(this.resizable.model.get("height")).add(t),this.model.set("top",e.value())}function i(t){var e=l(this.resizable.model.get("left"));this.model.set("left",e.add(t).value())}function o(t){var e=l(this.resizable.model.get("left"));e.add(this.resizable.model.get("width")).add(t),this.model.set("left",e.value())}function a(){this.model.set("width",l(this.resizable.model.get("width")).value())}function u(){this.model.set("height",l(this.resizable.model.get("height")).value())}var l=(t("./helpers"),t("no"));e.n=function(){n.call(this,-1*this.outer),i.call(this,0),a.call(this)},e.s=function(){r.call(this,-1*this.inner),i.call(this,0),a.call(this)},e.w=function(){i.call(this,-1*this.outer),n.call(this,0),u.call(this)},e.e=function(){o.call(this,-1*this.inner),n.call(this,0),u.call(this)},e.nw=function(){n.call(this,-1*this.outer),i.call(this,-1*this.outer)},e.ne=function(){n.call(this,-1*this.outer),o.call(this,-1*this.inner)},e.sw=function(){r.call(this,-1*this.inner),i.call(this,-1*this.outer)},e.se=function(){r.call(this,-1*this.inner),o.call(this,-1*this.inner)}}),define("__backbone-ui-resizable/handle/track",["require","exports","module","./helpers"],function(t,e){var n=t("./helpers");e.all=function(){this.listenTo(this.resizable.model,"change",this.update)},e.n=function(){var t=this.resizable.model;this.resizable.listenTo(this,"move-y",function(e,r){r=n.numberify(r);var i=n.numberify(t.get("height")),o=n.numberify(t.get("top"));t.set({height:i-r,top:o+r})},this)},e.s=function(){var t=this.resizable.model;this.resizable.listenTo(this,"move-y",function(e,r){var i=n.numberify(t.get("height"))+n.numberify(r);t.set("height",i)})},e.w=function(){var t=this.resizable.model;this.resizable.listenTo(this,"move-x",function(e,r){r=n.numberify(r);var i=n.numberify(t.get("width")),o=n.numberify(t.get("left"));t.set({width:i-r,left:o+r})})},e.e=function(){var t=this.resizable.model;this.resizable.listenTo(this,"move-x",function(e,r){var i=n.numberify(t.get("width"))+n.numberify(r);t.set("width",i)})}}),define("__backbone-ui-resizable/handle/min-max",["require","exports","module","./helpers"],function(t,e){var n=t("./helpers");e.n=function(){var t=this.resizable.model,e=t.get("height"),r=t.get("minHeight"),i=t.get("maxHeight"),o=i-e,a=e-r,u=t.get("minY")||0,l=this.model.get("top");this.model.set({minY:n.max(l-o,u)-this.outer,maxY:l+this.thickness+a})},e.s=function(){var t=this.resizable.model,e=t.get("height"),r=t.get("minHeight"),i=t.get("maxHeight"),o=e-r,a=i-e,u=t.get("maxY")||0,l=this.model.get("top");this.model.set({minY:l-o,maxY:n.min(l+a,u)+this.thickness})},e.w=function(){var t=this.resizable.model,e=t.get("width"),r=t.get("minWidth"),i=t.get("maxWidth"),o=i-e,a=e-r,u=t.get("minX")||0,l=this.model.get("left");this.model.set({minX:n.max(l-o,u)-this.outer,maxX:l+this.thickness+a})},e.e=function(){var t=this.resizable.model,e=t.get("width"),r=t.get("minWidth"),i=t.get("maxWidth"),o=e-r,a=i-e,u=t.get("maxX"),l=this.model.get("left");this.model.set({minX:l-o,maxX:n.min(l+a,u)+this.thickness})}}),define("__backbone-ui-resizable/handle/index",["require","exports","module","jquery-ui","backbone-ui-draggable","lodash","./update","./track","./min-max"],function(t,e,n){t("jquery-ui");{var r=t("backbone-ui-draggable"),i=t("lodash"),o=t("./update"),a=t("./track"),u=t("./min-max"),l={n:"left top",s:"left bottom",w:"left top",e:"right top",nw:"left top",ne:"right top",sw:"left bottom",se:"right bottom"},s={n:"y",s:"y",w:"x",e:"x",nw:"xy",ne:"xy",sw:"xy",se:"xy"};n.exports=r.extend({initialize:function(t){r.prototype.initialize.call(this,t),this.initializeResizableHandle(t)},initializeResizableHandle:function(t){this.resizable=t.resizable,this.direction=t.direction,this.axis=s[this.direction],this.thickness=t.thickness,this.setStyles(),this.ratio=t.ratio,this.outer=t.thickness*this.ratio,this.inner=t.thickness-this.outer,this.update=i.throttle(i.bind(o[this.direction],this),20),this.initializePosition(t),this.track(),this.on("movestart",this.calcMinMax)},setStyles:function(){var t,e=this.axis;e.length>1?t={zIndex:100,width:this.thickness,height:this.thickness}:"x"===e?t={zIndex:99,width:this.thickness,height:this.resizable.model.get("width")}:"y"===e&&(t={zIndex:99,width:this.resizable.model.get("height"),height:this.thickness}),this.$el.css(t)},initializePosition:function(){var t=this.$el;t.position({my:"center center",at:l[this.direction],of:this.resizable.$el}),this.model.set(t.position()),this.update()},track:function(){i.each(this.direction,function(t){a[t].call(this)},this),a.all.call(this)},calcMinMax:function(){i.each(this.direction,function(t){u[t].call(this)},this)},map:i.extend(r.prototype.map,{height:"->css:height",width:"->css:width"})})}}),define("__backbone-ui-resizable/actions",["require","exports","module"],function(t,e){e.expandToLeft=function(t){var e=this.handles.w;return e.calcMinMax(),e.moveToLeft(t)},e.expandToRight=function(t){var e=this.handles.e;return e.calcMinMax(),e.moveToRight(t)},e.expandToTop=function(t){var e=this.handles.n;return e.calcMinMax(),e.moveToTop(t)},e.expandToBottom=function(t){var e=this.handles.s;return e.calcMinMax(),e.moveToBottom(t)},e.contractToRight=function(t){var e=this.handles.w;return e.calcMinMax(),e.moveToRight(t)},e.contractToLeft=function(t){var e=this.handles.e;return e.calcMinMax(),e.moveToLeft(t)},e.contractToBottom=function(t){var e=this.handles.n;return e.calcMinMax(),e.moveToBottom(t)},e.contractToTop=function(t){var e=this.handles.s;return e.calcMinMax(),e.moveToTop(t)}}),define("backbone-ui-resizable",["require","exports","module","lowercase-backbone","backbone-ui-draggable","jquery","lodash","./__backbone-ui-resizable/build-handles","./__backbone-ui-resizable/handle/index","./__backbone-ui-resizable/actions"],function(t,e,n){function r(t){return c.test(t)?t+"px":t}var i=t("lowercase-backbone"),o=t("backbone-ui-draggable"),a=t("jquery"),u=t("lodash"),l=t("./__backbone-ui-resizable/build-handles"),s=t("./__backbone-ui-resizable/handle/index"),c=/^[0-9]+$/,f=n.exports=o.extend({initialize:function(t){i.view.prototype.initialize.call(this,t),this.initializeModelDock(t),this.initializeUIDraggable(t),this.initializeUIResizable(t)},initializeUIResizable:function(t){this.$canvas=t.canvas||this.canvas||a(window);var e=u.extend({minWidth:2*this.handleOptions.thickness,minHeight:2*this.handleOptions.thickness,width:this.$el.width(),height:this.$el.height()},this.$el.position(),t);this.model.set(e);var n=u.defaults(u.pick(t,["directions","clss","ratio","thickness"]),this.handleOptions);l.call(this,n)},handleBuilder:s,handleOptions:{directions:"n,s,w,e,nw,ne,sw,se",clss:"handle",ratio:.2,thickness:30},stringifiers:{height:r,minHeight:r,maxHeight:r,width:r,minWidth:r,maxWidth:r,left:r,top:r},map:{top:"->css:top",left:"->css:left",width:"->css:width",minWidth:"->css:min-width",maxWidth:"->css:max-width",height:"->css:height",minHeight:"->css:min-height",maxHeight:"->css:max-height"}});f.proto(t("./__backbone-ui-resizable/actions"))});